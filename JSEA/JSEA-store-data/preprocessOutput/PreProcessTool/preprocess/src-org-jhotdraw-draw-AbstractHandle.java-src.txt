# handle 1 0 14 november 2003 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org ??? org jhotdraw draw collection event event undo handle author wern randelshof 1 0 2003 12 01 derive from jhotdraw 5 4b1 handle handle figure listener figure owner drawing view view event listener list listener list event listener list the bound of the handle rectangle bound create a instance handle figure owner owner owner owner add figure listener f i x m e get form the drawing view get handlesize 7 add a listener handle add handle listener handle listener l listener list add handle listener l remove a listener handle remove handle listener handle listener l listener list remove handle listener l figure get owner owner set view drawing view view view view notify all listener list that have register interest notification on event type fire area invalidate rectangle invalidate area handle event event notify all listener that have register interest guarantee to a non listener listener list get listener list process the listener last to first notify those that are interest in event i listener length 2 i 0 i 2 listener i handle listener lazily create the event event event handle event invalidate area handle listener listener i+1 area invalidate event notify all listener list that have register interest notification on event type fire undoable edit happen undoable edit edit view get drawing fire undoable edit happen edit undoable edit event event notify all listener that have register interest guarantee to a non listener listener list get listener list process the listener last to first notify those that are interest in event i listener length 2 i 0 i 2 listener i undoable edit listener lazily create the event event event undoable edit event edit undoable edit listener listener i+1 undoable edit happen event notify all listener list that have register interest notification on event type fire handle request remove rectangle invalidate area handle event event notify all listener that have register interest guarantee to a non listener listener list get listener list process the listener last to first notify those that are interest in event i listener length 2 i 0 i 2 listener i handle listener lazily create the event event event handle event invalidate area handle listener listener i+1 handle request remove event notify all listener list that have register interest notification on event type fire handle request secondary handle handle event event notify all listener that have register interest guarantee to a non listener listener list get listener list process the listener last to first notify those that are interest in event i listener length 2 i 0 i 2 listener i handle listener lazily create the event event event handle event handle listener listener i+1 handle request secondary handle event draw handle draw graphics2 d g draw circle g color white color black draw circle graphics2 d g color fill color stroke rectangle r get bound g set color fill g fill oval r x r y r width r height g set stroke basic stroke g set color stroke g draw oval r x r y r width r height draw rectangle graphics2 d g color fill color stroke rectangle r get bound g set color fill g fill r g set stroke basic stroke g set color stroke g draw r draw diamond graphics2 d g color fill color stroke rectangle r get bound r grow 1 1 polygon p polygon p add point r x + r width 2 r y p add point r x + r width r y + r height 2 p add point r x + r width 2 r y + r height p add point r x r y + r height 2 p add point r x + r width 2 r y g set color fill g fill p g set stroke basic stroke g set color stroke g draw p contain point p get bound contain p invalidate fire area invalidate get draw bound dispose owner remove figure listener owner sent when a region use by the figure need to be repaint the of assume that the handle is locate on the bound of the figure or inside the figure the handle is locate elsewhere must be reimplet by the subclass figure area invalidate figure event evt update bound sent when a figure wa add figure add figure event e empty sent when a figure wa remove figure remove figure event e empty sent when a figure request to be remove figure request remove figure event e empty sent when the bound or shape of a figure ha change figure change figure event evt update bound a cursor the handle cursor get cursor cursor get predefin cursor cursor m o v e c u r s o r the given handle is an instance of the same or of a subclass of handle is combinable with handle handle get is assignable from handle get key type key event evt key release key event evt key press key event evt rectangle get bound bound bound basic get bound rectangle bound clone rectangle get draw bound rectangle r get bound r grow 2 2 grow by two pixel to take antialiasing into account r rectangle basic get bound update bound rectangle bound basic get bound bound || bound equal bound bound fire area invalidate get draw bound bound bound fire area invalidate get draw bound track a click track click point p modifier ex figure attribute change figure event e view transform change bound collection handle create secondary handle collection empty list 