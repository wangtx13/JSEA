# attribute figure 3 1 2006 06 17 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org org jhotdraw draw geom io org jhotdraw draw attribute key org jhotdraw geom org jhotdraw xml dom input org jhotdraw xml dom output a figure that can keep track of an open end set of attribute p f i x m e move all convenience attribute gett into attribute key author wern randelshof 3 1 2006 06 17 chop point2 d add 3 0 2006 06 07 rework 2 1 2006 02 20 support stroke add 2 0 2006 01 14 change to support precision coordinate 1 0 2003 12 01 derive from jhotdraw 5 4b1 attribute figure figure hash map attribute key attribute hash map attribute key forbid attribute can t be set by the set attribute operation they can only be change by basic set attribute hash set attribute key forbid attribute create a instance attribute figure set an attribute of the figure attribute key name and semantics are define by the implement the figure set attribute attribute key key value forbid attribute || forbid attribute contain key old value attribute get key attribute contain key key || old value value || old value value old value equal value will change basic set attribute key value fire attribute change key old value value fire undoable edit happen attribute change edit key old value value change set attribute enable attribute key key b forbid attribute forbid attribute hash set attribute key b forbid attribute remove key forbid attribute add key is attribute enable attribute key key forbid attribute || forbid attribute contain key set attribute hash map attribute key map map entry attribute key entry map entry set set attribute entry get key entry get value map attribute key get attribute hash map attribute key attribute set an attribute of the figure attribute key name and semantics are define by the implement the figure basic set attribute attribute key key value forbid attribute || forbid attribute contain key attribute put key value get an attribute from the figure get attribute attribute key key ha attribute key ? attribute get key key get value draw figure graphics2 d g attribute key f i l l c o l o r get g set color attribute key f i l l c o l o r get draw fill g s t r o k e c o l o r get s t r o k e w t h get 0d g set stroke attribute key get stroke g set color s t r o k e c o l o r get draw stroke g t e x t c o l o r get t e x t s h a d o w c o l o r get t e x t s h a d o w o f f s e t get dimension2 d d t e x t s h a d o w o f f s e t get g translate d width d height g set color t e x t s h a d o w c o l o r get draw text g g translate d width d height g set color t e x t c o l o r get draw text g is connector visible draw connector g draw connector graphics2 d g stroke get stroke attribute key get stroke get stroke miter limit factor number value number get attribute attribute key s t r o k e m i t e r l i m i t f a c t o r value ? value value 10f rectangle2 d get figure draw bound width attribute key get stroke total width 2d s t r o k e j o i n get basic stroke j o i n m i t e r width s t r o k e m i t e r l i m i t f a c t o r get width++ rectangle2 d r get bound geom grow r width width r is call by draw to draw the fill area of the figure attribute figure configure the graphics2 d with the f i l l c o l o r attribute before calling the f i l l c o l o r attribute is is not call draw fill graphics2 d g is call by draw to draw the line of the figure attribute figure configure the graphics2 d with the s t r o k e c o l o r attribute before calling the s t r o k e c o l o r attribute is is not call is call by draw to draw the text of the figure attribute figure configure the graphics2 d with the t e x t c o l o r attribute before calling the t e x t c o l o r attribute is is not call draw stroke graphics2 d g draw text graphics2 d g attribute figure clone attribute figure that attribute figure clone that attribute hash map attribute key attribute forbid attribute that forbid attribute hash set attribute key forbid attribute that write attribute dom output out i o figure prototype figure out get prototype is element open map entry attribute key entry attribute entry set attribute key key entry get key forbid attribute || forbid attribute contain key prototype value key get prototype attribute value key get prototype value attribute value || prototype value attribute value prototype value equal attribute value is element open out open element a is element open out open element key get key out write entry get value out close element is element open out close element read attribute dom input in i o in get element count a 0 in open element a i in get element count 1 i 0 i in open element i name in get tag name value in read attribute key key get attribute key name key key is assignable value forbid attribute || forbid attribute contain key set attribute key value in close element in close element attribute key get attribute key name attribute key support attribute map get name applie all attribute of figure to that figure apply attribute to figure that map entry attribute key entry attribute entry set that set attribute entry get key entry get value write dom output out i o rectangle2 d r get bound out add attribute x r x out add attribute y r y out add attribute w r width out add attribute h r height write attribute out read dom input in i o x in get attribute x 0d y in get attribute y 0d w in get attribute w 0d h in get attribute h 0d set bound point2 d x y point2 d x+w y+h read attribute in remove attribute attribute key key ha attribute key old value get attribute key attribute remove key fire attribute change key old value key get value ha attribute attribute key key attribute contain key key 