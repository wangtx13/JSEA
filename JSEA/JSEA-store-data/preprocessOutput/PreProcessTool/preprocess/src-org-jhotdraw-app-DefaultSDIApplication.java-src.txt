# s d i application 1 3 2006 05 03 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org org jhotdraw app org jhotdraw org jhotdraw pref event bean io pref org jhotdraw app action about action org jhotdraw app action action org jhotdraw app action clear action org jhotdraw app action clear recent file action org jhotdraw app action close action org jhotdraw app action copy action org jhotdraw app action cut action org jhotdraw app action delete action org jhotdraw app action duplicate action org jhotdraw app action exit action org jhotdraw app action export action org jhotdraw app action load action org jhotdraw app action load recent action org jhotdraw app action action org jhotdraw app action paste action org jhotdraw app action redo action org jhotdraw app action save action org jhotdraw app action save a action org jhotdraw app action select all action org jhotdraw app action toggle visible action org jhotdraw app action undo action a s d i application can handle the life cycle of a single document window being present in a j frame the j frame provide all the functionality need to work with the document such a a menu bar tool bar and palette window author wern randelshof 1 3 2006 05 03 show asterisk in window title when project ha unsav change 1 2 1 2006 02 28 stop application when last project is close 1 2 2006 02 06 support multiple open add 1 1 2006 02 06 revise 1 0 october 16 2005 create s d i application application project current project preference pref create a instance s d i application launch set property apple graphic use quartz launch init init pref preference user node get model ? get get model get init label init look and feel init application action remove project p remove p project size 0 stop init look and feel set property apple laf use screen menu bar set property com apple maco use screen menu bar set property apple graphic use quartz laf name u i manager get look and feel name u i manager set look and feel laf name e e print stack trace u i manager get option pane cs u i manager put option pane cs init application action resource bundle app label resource bundle get l a f bundle org jhotdraw app label application model m get model m put action about action about action m put action exit action exit action m put action clear action clear action m put action action action app label configure action m get action action window m put action load action load action m put action clear recent file action clear recent file action m put action save action save action m put action save a action save a action m put action close action close action m put action undo action undo action m put action redo action redo action m put action cut action cut action m put action copy action copy action m put action paste action paste action m put action delete action delete action m put action duplicate action duplicate action m put action select all action select all action init project action project p show project p p is showing p set showing p get j frame f j frame title title label get unnam title get name p ha unsav change title + f set title label get format frame title title get name p get multiple open f set close operation j frame d o n o t h i n g o n c l o s e j panel panel j panel wrap project component p f add panel f set minimum size dimension 200 200 f set prefer size dimension 600 400 f set j menu bar create menu bar p list action panel get client property tool bar action preference install frame pref handler pref project f point loc f get location move move iterator i project iterator i ha next project a project project i next a project p utility get window ancestor a project get component utility get window ancestor a project get component get location equal loc loc x + 22 loc y + 22 move move f set location loc f add window listener window adapter window closing window event evt set current project p get model get action close action action perform action event f action event a c t i o n p e r f o r m e d window closing window activate window event e set current project p p add property change listener property change listener property change property change event evt name evt get property name name equal ha unsav change || name equal || name equal multiple open p get title title label get unnam title get name p ha unsav change title + f set title label get format frame title title get name p get multiple open f set visible the project component eventually wrap it into another component in order to provide additional functionality component wrap project component project p component c p get component get model link list action tool bar action link list 0 j tool bar tb reverse list j tool bar get model create tool bar p id++ j panel panel j panel border layout panel add tb border layout n o r t h panel add c border layout c e n t e r c panel preference install tool bar pref handler pref toolbar +id tb tool bar action add first toggle visible action tb tb get name j tool bar tb j tool bar tb set name label get standard tool bar title add standard action to tb p id++ j panel panel j panel border layout panel add tb border layout n o r t h panel add c border layout c e n t e r c panel preference install tool bar pref handler pref toolbar +id tb tool bar action add first toggle visible action tb tb get name panel put client property tool bar action tool bar action c add standard action to j tool bar tb project p j button b application model m get model b tb add m get action clear action b set focusable b tb add m get action load action b set focusable b tb add m get action save action tb add separator b tb add m get action undo action b set focusable b tb add m get action redo action b set focusable tb add separator b tb add m get action cut action b set focusable b tb add m get action copy action b set focusable b tb add m get action paste action b set focusable hide project p p is showing p set showing j frame f j frame utility get window ancestor p get component f set visible f remove p get component f dispose dispose project p dispose p project size 0 stop project get current project current project set current project project value project old value current project current project value fire property change current project old value value the project menu bar is display a project the a screen menu bar j menu bar create menu bar project p list action tool bar action application model model get model resource bundle label resource bundle get l a f bundle org jhotdraw app label j menu bar mb j menu bar j menu m m2 j menu item mi j check box menu item cbmi j menu open recent menu m j menu label configure menu m label get m add model get action clear action m add model get action action m add model get action load action open recent menu j menu label configure menu open recent menu open recent open recent menu add model get action clear recent file action update open recent menu open recent menu m add open recent menu m add separator m add model get action save action m add model get action save a action model get action export action mi m add model get action export action m add separator m add model get action exit action mb add m m j menu label configure menu m label get edit m add model get action undo action m add model get action redo action m add separator m add model get action cut action m add model get action copy action m add model get action paste action m add model get action duplicate action m add model get action delete action m add separator m add model get action select all action mb add m j menu view menu j menu mm model create menu p mb add mm mm get text equal label get view view menu mm tool bar action tool bar action size 0 m view menu ? view menu j menu m2 tool bar action size 1 ? m j menu label get tool bar label configure menu m label get view action a tool bar action cbmi j check box menu item a action configure j check box menu item cbmi a m2 add cbmi m2 m m add m2 mb add m m j menu label configure menu m label get help m add model get action about action mb add m add property change listener property change listener property change property change event evt name evt get property name name project count p || project contain p remove property change listener name recent file update open recent menu open recent menu mb update open recent menu j menu open recent menu open recent menu get item count 0 j menu item clear recent file item j menu item open recent menu get item open recent menu get item count 1 open recent menu remove all f recent file open recent menu add load recent action s d i application f recent file size 0 open recent menu add separator open recent menu add clear recent file item is sharing tool among project component get component project p get current project p ? p get component 