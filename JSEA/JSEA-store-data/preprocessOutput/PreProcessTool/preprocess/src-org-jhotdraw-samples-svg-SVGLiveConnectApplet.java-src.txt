# s v g live connect applet 2 0 2006 01 15 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org org jhotdraw sample svg org jhotdraw draw org jhotdraw draw action org jhotdraw geom event io net event netscape javascript org jhotdraw xml s v g live connect applet support loading and saving of image to script author wrandel 2 0 change to support precision coordinate 1 0 create on 10 m???rz 2004 13 22 s v g live connect applet j applet v e r s i o n 0 44 n a m e s v g draw initializ the applet draw applet init set look and feel u i manager set look and feel u i manager get look and feel name throwable e nothing we can t set the desire look and feel u i manager doe automaticaly the right thing u display copyright info we are loading the data container c get content pane c set layout box layout c box layout y a x i s line get applet info split string split get applet info i 0 i line length i++ c add j label line i we load the data using a worker thread worker construct result get parameter data get parameter data length 0 nano xml dom input domi nano xml dom input s v g figure factory reader get parameter data result domi read 0 get parameter datafile input stream in u r l url u r l get document base get parameter datafile in url open connection get input stream nano xml dom input domi nano xml dom input s v g figure factory in result domi read 0 in in close result throwable t result t result finish container c get content pane c set layout border layout c remove all result get value init component result result drawing set drawing drawing result result throwable get drawing add text figure result to throwable result print stack trace is live connect name netscape javascript j s is live connect throwable t is live connect load button set enable is live connect get parameter dataread save button set enable is live connect get parameter datawrite is live connect name get parameter dataread name index of 0 name name substring 0 name index of 1 j s win j s get window s v g live connect applet data win call name 0 data set data data c validate start set drawing drawing d drawing panel set drawing d drawing get drawing drawing panel get drawing set data text text text length 0 reader in reader text nano xml dom input domi nano xml dom input s v g figure factory in domi open element s v g draw set drawing drawing domi read 0 throwable e get drawing clear text figure tf text figure tf set text e get message tf set bound point2 d 10 10 point2 d 100 100 get drawing add tf e print stack trace in in close get data writer out writer nano xml dom output domo nano xml dom output s v g figure factory domo open element s v g draw domo write get drawing domo close element domo save out i o e text figure tf text figure tf set text e get message tf set bound point2 d 10 10 point2 d 100 100 get drawing add tf e print stack trace out out close out to get parameter info data the data to be display by applet datafile u r l an u r l to a contain the data to be display by applet dataread function the name of a script function which can be use to read the data datawrite function the name of a script function which can be use to write the data get applet info n a m e+ + v e r s i o n + copyright 2004 \u00a9 wern randelshof + alle rechte vorbehalten + diese software basiert auf + jhotdraw \u00a9 1996 1997 i f a informatik und erich gamma is call from within the init to initialize the form w a r n i n g n o t modify the content of is alway regenerate by the form editor editor fold defaultstate collapse desc generate g e n b e g i n init component init component tool button group button group drawing panel org jhotdraw sample draw drawing panel j tool bar1 j tool bar load button j button save button j button get content pane add drawing panel border layout c e n t e r j tool bar1 set floatable load button set text lade load button add action listener event action listener action perform event action event evt load evt j tool bar1 add load button save button set text speichern save button add action listener event action listener action perform event action event evt save evt j tool bar1 add save button get content pane add j tool bar1 border layout s o u t h editor fold g e n e n d init component save event action event evt g e n f i r s t event save name get parameter datawrite name index of 0 name name substring 0 name index of 1 j s win j s get window result win call name get data throwable t text figure tf text figure fehl +t affine transform tx affine transform tx translate 10 20 tf transform tx get drawing add tf g e n l a s t event save load event action event evt g e n f i r s t event load name get parameter dataread name index of 0 name name substring 0 name index of 1 j s win j s get window result win call name 0 result set data result throwable t text figure tf text figure fehl +t affine transform tx affine transform tx translate 10 20 tf transform tx get drawing add tf g e n l a s t event load variable declaration not modify g e n b e g i n variable org jhotdraw sample draw drawing panel drawing panel j tool bar j tool bar1 j button load button j button save button button group tool button group end of variable declaration g e n e n d variable 