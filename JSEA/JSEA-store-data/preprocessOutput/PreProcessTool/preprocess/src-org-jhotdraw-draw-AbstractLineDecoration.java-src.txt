# line decoration 2 0 2006 01 14 1996 2006 contributor right reserve thi disclose accordance term enter ??? draw io geom geom geom draw attribute key standard line decoration draw shape which rotate move end line shape scale stroke width wern randelshof 2 0 2006 01 14 change support coordinate 1 0 2003 12 01 derive 5 4b1 line decoration implement line decoration thi decoration fill fill thi decoration stroke stroke thi stroke color fill decoration solid construct arrow tip given angle radius line decoration fill stroke solid thi fill fill thi stroke stroke thi solid solid protect fill fill protect stroke stroke protect solid solid draw arrow tip direction specify given two point template draw graphics2 d g figure f point2 d p1 point2 d p2 general path path get transform decorator path f p1 p2 color color fill solid color s t r o k e o l o r get f color f i l l o l o r get f color g set color color g fill path stroke color s t r o k e o l o r get f color g set color color g set stroke attribute key get stroke f g draw path bound decorator rectangle2 d get draw bound figure f point2 d p1 point2 d p2 general path path get transform decorator path f p1 p2 rectangle2 d b path get bounds2 d rectangle2 d bound rectangle2 d b get x b get y b get width b get height stroke stroke width s t r o k e t h get f stroke join s t r o k e j o i n get f miter limit s t r o k e m i t e r l i m i t f t o r get f stroke width grow stroke join basic stroke j o i n m i t e r grow 1 + stroke width 2 miter limit grow 1 + stroke width 2 geom grow bound grow grow bound get decoration radius figure f stroke width s t r o k e t h get f scale factor stroke width 1f scale factor 1d + stroke width 1d 2d scale factor 1d get decorator path radius f scale factor general path get transform decorator path figure f point2 d p1 point2 d p2 general path path get decorator path f stroke width s t r o k e t h get f affine transform transform affine transform transform translate p1 x p1 y transform rotate math atan2 p1 x p2 x p2 y p1 y transform rotate math p i 2 stroke width 1f transform scale 1d + stroke width 1d 2d 1d + stroke width 1d 2d path transform transform path protect set fill b fill b protect set stroke b stroke b protect set solid b solid b hook calculate path decorator protect general path get decorator path figure f hook calculate radius decorator path protect get decorator path radius figure f 