# box handle kit 2 0 2006 01 14 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org ??? org jhotdraw draw geom event a set of utility to create handle the common location on a figure s display box author wern randelshof 2 0 2006 01 14 change to support precision coordinate 1 0 2003 12 01 derive from jhotdraw 5 4b1 box handle kit create a instance box handle kit create handle each of a figure and add them to the provide collection add handle figure f collection handle handle handle add south east f handle add south west f handle add north east f handle add north west f fill the given vector with handle at each the north south east and west of the figure add edge handle figure f collection handle handle handle add south f handle add north f handle add east f handle add west f fill the given vector with handle at each the north south east and west of the figure add box handle figure f collection handle handle add handle f handle add edge handle f handle handle south figure owner south handle owner handle south east figure owner south east handle owner handle south west figure owner south west handle owner handle north figure owner north handle owner handle north east figure owner north east handle owner handle north west figure owner north west handle owner handle east figure owner east handle owner handle west figure owner west handle owner resize handle locator handle dx dy geometry resize handle figure owner locator loc owner loc track start point anchor modifier ex geometry get owner get restore data point location get location dx anchor x + location x dy anchor y + location y track step point anchor point modifier ex point2 d p view view to drawing point x + dx y + dy view get constrain constrain point p track step normalize p track end point anchor point modifier ex fire undoable edit happen geometry edit get owner geometry get owner get restore data track step normalize point2 d p f i x m e replace operation by a rectangle2 d set bound point2 d anchor point2 d figure f get owner f will change rectangle2 d old bound f get bound rectangle2 d bound rectangle2 d math min anchor x x math min anchor y y math ab anchor x x math ab anchor y y sx bound width old bound width sy bound height old bound height affine transform tx affine transform tx translate old bound x old bound y is na n sx is na n sy sx 1d || sy 1d sx 0 0001 sy 0 0001 f basic transform tx tx set to identity tx scale sx sy f basic transform tx tx set to identity tx translate bound x bound y f basic transform tx f change north east handle resize handle north east handle figure owner owner relative locator north east track step normalize point2 d p rectangle2 d r get owner get bound set bound point2 d r x math min r y + r height 1 p y point2 d math max r x p x r y + r height cursor get cursor cursor get predefin cursor cursor n e r e s i z e c u r s o r east handle resize handle east handle figure owner owner relative locator east track step normalize point2 d p rectangle2 d r get owner get bound set bound point2 d r x r y point2 d math max r x + 1 p x r y + r height cursor get cursor cursor get predefin cursor cursor e r e s i z e c u r s o r north handle resize handle north handle figure owner owner relative locator north track step normalize point2 d p rectangle2 d r get owner get bound set bound point2 d r x math min r y + r height 1 p y point2 d r x + r width r y + r height cursor get cursor cursor get predefin cursor cursor n r e s i z e c u r s o r north west handle resize handle north west handle figure owner owner relative locator north west track step normalize point2 d p rectangle2 d r get owner get bound set bound point2 d math min r x + r width 1 p x math min r y + r height 1 p y point2 d r x + r width r y + r height cursor get cursor cursor get predefin cursor cursor n w r e s i z e c u r s o r south east handle resize handle south east handle figure owner owner relative locator south east track step normalize point2 d p rectangle2 d r get owner get bound set bound point2 d r x r y point2 d math max r x + 1 p x math max r y + 1 p y cursor get cursor cursor get predefin cursor cursor s e r e s i z e c u r s o r south handle resize handle south handle figure owner owner relative locator south track step normalize point2 d p rectangle2 d r get owner get bound set bound point2 d r x r y point2 d r x + r width math max r y + 1 p y cursor get cursor cursor get predefin cursor cursor s r e s i z e c u r s o r south west handle resize handle south west handle figure owner owner relative locator south west track step normalize point2 d p rectangle2 d r get owner get bound set bound point2 d math min r x + r width 1 p x r y point2 d r x + r width math max r y + 1 p y cursor get cursor cursor get predefin cursor cursor s w r e s i z e c u r s o r west handle resize handle west handle figure owner owner relative locator west track step normalize point2 d p rectangle2 d r get owner get bound set bound point2 d math min r x + r width 1 p x r y point2 d r x + r width r y + r height cursor get cursor cursor get predefin cursor cursor w r e s i z e c u r s o r 