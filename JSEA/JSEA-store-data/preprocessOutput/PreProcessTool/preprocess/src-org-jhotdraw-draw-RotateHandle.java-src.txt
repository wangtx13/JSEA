# rotate handle 1 0 12 july 2006 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org org jhotdraw draw org jhotdraw org jhotdraw undo event geom org jhotdraw geom a handle to rotate a figure author wern randelshof 1 0 12 july 2006 create rotate handle handle point location restore data affine transform transform point2 d center start theta start length create a instance rotate handle figure owner owner is combinable with handle h draw handle draw graphics2 d g draw diamond g color green color black rectangle basic get bound rectangle r rectangle get location r grow get handlesize 2 get handlesize 2 r point get location location location view drawing to view get origin location point2 d get origin handle is place above the figure we move it up by a handlesiz so that it won t overlap with the handle from box handle kit rectangle2 d bound get owner get bound point2 d bound get center x bound y get handlesize track start point anchor modifier ex location point anchor x anchor y restore data get owner get restore data rectangle2 d bound get owner get bound transform affine transform center point2 d bound get center x bound get center y point2 d anchor point view view to drawing anchor start theta geom angle center x center y anchor point x anchor point y start length geom length center x center y anchor point x anchor point y track step point anchor point modifier ex location point x y point2 d point view view to drawing step theta geom angle center x center y point x point y step length geom length center x center y point x point y transform set to identity transform translate center x center y transform rotate step theta start theta transform translate center x center y get owner will change get owner restore to restore data get owner basic transform transform get owner change track end point anchor point modifier ex view get drawing fire undoable edit happen restore data edit get owner restore data location 