content reader nano xml $ revision 1 4 $ $ date 2002 01 04 21 03 28 $ $ r e l e s e 2 2 1 $ nano xml 2 2000 2002 purpose 1 2 3 net n3 io reader io i o reader read data another reader until element ha be encounter author $ r e l e s e 2 2 1 $ $ revision 1 4 $ content reader reader encapsulate reader i xml reader reader buffer buffer pointer buffer buffer index entity resolv i xml entity resolv resolv create reader reader encapsulate reader resolv entity resolv buffer data ha already be read reader content reader i xml reader reader i xml entity resolv resolv buffer reader reader resolv resolv buffer buffer buffer index 0 clean up when s destroy finalize throwable reader resolv buffer finalize read block data output buffer where put read data offset first position buffer put data size maximum number char read number char read 1 at e o f io i o occur reading data read output buffer offset size i o char read 0 buffer length buffer length offset + size output buffer length size output buffer length offset char read size str ch buffer index buffer length str xml read reader ch str at 0 ch buffer at buffer index buffer index++ output buffer char read ch char read++ t interprete char buffer ch reader unread ch ch str length 1 str at 1 # ch xml process literal str xml process entity str reader resolv output buffer char read ch char read++ char read 0 char read 1 char read xml parse e i o e get message skip remain data close stream io i o occur reading data close i o buffer length buffer length str ch buffer index buffer length str xml read reader ch str at 0 ch buffer at buffer index buffer index++ t interprete char buffer ch reader unread ch ch str length 1 str at 1 # xml process entity str reader resolv xml parse e i o e get message 