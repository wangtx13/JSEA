# drag tracker 2 0 2006 01 14 1996 2006 it contributor disclose accordance ??? draw geom drag tracker author 2 0 2006 01 14 support precision coordinate 1 0 2003 12 01 derive 5 4b1 drag tracker tool figure anchor figure point2 d old point point2 d anchor point drag create instance drag tracker figure figure anchor figure figure mouse move mouse evt update cursor editor find view container evt get point evt get x evt get y mouse press mouse evt mouse press evt view view get view evt shift down view set handle detail level 0 view toggle selection anchor figure view figure select anchor figure anchor figure view figure select anchor figure view set handle detail level 0 view clear selection view add selection anchor figure point2 d point2 d m x v l u e m x v l u e figure f view get select figure rectangle2 d b f get bound x math x b x y math y b y point2 d constrain view get constrain constrain point point2 d x y old point view get constrain constrain point view view point evt get x evt get y old point x + x constrain x old point y + y constrain y anchor point old point mouse drag mouse evt view view get view drag drag update cursor editor find view container evt get point evt get x evt get y point2 d point view get constrain constrain point view view point evt get x evt get y affine transform tx affine transform tx translate point x old point x point y old point y figure f view get select figure f change f basic transform tx f old point point mouse release mouse evt mouse release evt drag x evt get x y evt get y update cursor editor find view container evt get point evt get x evt get y point2 d p get view get constrain constrain point get view view point x y collection figure drag figure link list get view get select figure figure drop target get find figure except p drag figure drop target snap back drop target handle drop p drag figure get view snap back affine transform tx affine transform tx translate anchor point x old point x anchor point y old point y figure f drag figure f change f basic transform tx f affine transform tx affine transform tx translate anchor point x + old point x anchor point y + old point y tx identity get fire undoable edit happen transform edit drag figure tx affine transform tx affine transform tx translate anchor point x + old point x anchor point y + old point y tx identity get fire undoable edit happen transform edit drag figure tx fire tool do 