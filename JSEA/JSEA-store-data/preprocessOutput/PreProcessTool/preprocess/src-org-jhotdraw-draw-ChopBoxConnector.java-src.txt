# chop box connector 2 1 2006 03 22 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org ??? org jhotdraw draw org jhotdraw geom org jhotdraw draw attribute key org jhotdraw geom a chop box connector locate connection point by chop the connection between the center of the two figure at the display box p x x x replace all chop connector by a single chop to center connector and move chop point2 d into figure see connector author wern randelshof 2 1 2006 03 22 support total stroke width add 2 0 2006 01 14 change to support precision coordinate 1 0 2003 12 01 derive from jhotdraw 5 4b1 chop box connector connector create a instance only use storable chop box connector chop box connector figure owner owner point2 d find start connection figure connection figure start figure connection get start connector get owner point2 d from connection get point count 2 || connection get liner connection get end connector from connection get end point rectangle2 d r1 get connector target connection get end connector get owner get bound from point2 d r1 x + r1 width 2 r1 y + r1 height 2 from connection get point 1 chop start figure from point2 d find end connection figure connection figure end figure connection get end connector get owner point2 d from connection get point count 2 || connection get liner connection get start connector from connection get start point rectangle2 d r1 get connector target connection get start connector get owner get bound from point2 d r1 x + r1 width 2 r1 y + r1 height 2 from connection get point connection get point count 2 chop end figure from point2 d chop figure target point2 d from target get connector target target rectangle2 d r target get bound s t r o k e c o l o r get target grow s t r o k e p l a c e m e n t get target c e n t e r grow attribute key get stroke total width target 2d o u t s e grow attribute key get stroke total width target i n s e grow 0d geom grow r grow grow geom angle to point r geom point to angle r from 