# bezi node handle 1 0 1 2006 04 21 1996 2006 contributor right reserve thi disclose accordance term enter draw undo geom geom bezi node handle wern randelshof 1 0 1 2006 04 21 t change node type when right mouse button down 1 0 january 20 2006 create bezi node handle extend handle protect index composite edit edit bezi path node old node create instance bezi node handle bezi figure owner index owner thi index index draw thi handle draw graphics2 d g bezi figure f get bezi figure f get point count index bezi path node v f get node index v mask 0 draw rectangle g color black color white v mask bezi path c1 m s k || v mask bezi path c2 m s k || f close v mask bezi path c1 m s k | bezi path c2 m s k index 0 || index f get node count 1 draw diamond g color black color white draw circle g color black color white protect bezi figure get bezi figure bezi figure get owner protect point get location get bezi figure get point count index ? view view get bezi figure get point index 0 point 10 10 protect rectangle basic get bound rectangle r rectangle get location r grow get handlesize 2 get handlesize 2 r track start point anchor modifier ex bezi figure figure get bezi figure view get fire undoable edit happen edit composite edit punkt verschieben point2 d location view get constrain constrain point view view get location point2 d p view get constrain constrain point view view anchor old node figure get node index fire handle request secondary handle track step point anchor point modifier ex bezi figure figure get bezi figure figure change point2 d p view get constrain constrain point view view bezi path node n figure get node index fire area invalidate n n move p fire area invalidate n figure basic set node index n figure change fire area invalidate bezi path node v rectangle2 d dr rectangle2 d v x 0 v y 0 0 0 i 1 i 3 i++ dr add v x i v y i rectangle vr view view dr vr grow get handlesize get handlesize fire area invalidate vr track end point anchor point modifier ex bezi figure f get bezi figure change node type modifier ex input m e t d o n m s k | input t r l d o n m s k 0 modifier ex input b u t t o n2 d o n m s k 0 f change bezi path node v f get node index index 0 index f get node count || f close v mask v mask + 3 % 4 index 0 v mask v mask bezi path c2 m s k 0 ? bezi path c2 m s k 0 v mask v mask bezi path c1 m s k 0 ? bezi path c1 m s k 0 f basic set node index v f change fire handle request secondary handle view get fire undoable edit happen bezi node edit f index old node f get node index view get fire undoable edit happen edit override combinable handle h combinable h bezi node handle bezi node handle h index thi index get bezi figure get node count thi get bezi figure get node count track click point p modifier ex bezi figure f get bezi figure f get node count 2 modifier ex input m e t d o n m s k | input t r l d o n m s k | input l t d o n m s k 0 rectangle invalidate area get draw bound f change f basic remove node index f change fire handle request remove invalidate area collection handle create secondary handle bezi figure f get bezi figure link list handle list link list handle bezi path node v f get node index v mask bezi path c1 m s k 0 index 0 || f close list add bezi control point handle f index 1 v mask bezi path c2 m s k 0 index f get node count 1 || f close list add bezi control point handle f index 2 index 0 || f close i index 0 ? f get node count 1 index 1 v f get node i v mask bezi path c2 m s k 0 list add bezi control point handle f i 2 index f get node count 2 || f close i index f get node count 1 ? 0 index + 1 v f get node i v mask bezi path c1 m s k 0 list add bezi control point handle f i 1 list 