# chop round rect connector 2 0 2006 01 14 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org ??? org jhotdraw draw org jhotdraw geom org jhotdraw draw attribute key org jhotdraw geom a chop round rect connector locate a connection point2 d by chop the connection at the horizontal and vertica line define by the display box of a round rectangle figure author wern randelshof 2 0 2006 01 14 change to support coordinate 1 0 2004 03 02 derive from short distance connector of jhotdraw 6 0b1 chop round rect connector chop box connector only use dom storable input chop round rect connector chop round rect connector figure owner owner point2 d chop figure target point2 d from target get connector target target round rectangle figure rrf round rectangle figure target rectangle2 d out rrf get bound grow s t r o k e p l a c e m e n t get target c e n t e r grow attribute key get stroke total width target 2d o u t s e grow attribute key get stroke total width target i n s e grow 0 geom grow out grow grow rectangle2 d inner rectangle2 d out clone gw rrf get arc width + grow 2 2 gh rrf get arc height + grow 2 2 inner x gw inner y gh inner width + gw 2 inner height + gh 2 angle geom point to angle out from point2 d p geom angle to point out geom point to angle out from p x out x || p x out x + out width p y math min math max p y inner y inner y + inner height p x math min math max p x inner x inner x + inner width p 