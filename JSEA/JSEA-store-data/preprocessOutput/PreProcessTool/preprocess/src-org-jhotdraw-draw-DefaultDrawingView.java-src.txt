# view 3 0 2 2006 07 03 1996 2006 contributor right reserve thi disclose accordance term enter ??? draw gui datatransf composite transferable undo datatransf geom color io app editable component geom xml xml xml transferable view wern randelshof 3 0 2 2006 07 03 constrain bound property 3 0 1 2006 06 11 draw handle when thi view focus view editor 3 0 2006 02 17 rework support multiple view editor 2 0 2006 01 14 change support precision coordinate 1 0 2003 12 01 derive 5 4b1 view extend j component implement view listener handle listener editable component set figure dirty figure hash set figure set figure select figure hash set figure rainbow 0 link list handle selection handle link list handle handle secondary handle owner link list handle secondary handle link list handle handle are valid dimension prefer size scale factor 1 point2 d translate point2 d 0 0 detail level dom factory dom factory editor editor constrain constrain grid constrain 1 1 j label empty label ha permanent focus create instance view init component set focusable add focus listener focus listener focus gain focus e repaint focus lost focus e repaint thi call within constructor initialize form r n i n g n o t modify thi content thi alway regenerate form editor init component g e n b e g i n init component button group1 button group set layout set background color 255 255 255 g e n e n d init component get set get tool set empty message value old value empty label ? empty label get text value empty label empty label j label value empty label set horizontal alignment j label e n t e r fire property change empty message old value value repaint get empty message empty label ? empty label get text paint component graphic gr graphics2 d g graphics2 d gr g set rendering hint rendering hint k e y l p h i n t e r p o l t i o n rendering hint v l u e l p h i n t e r p o l t i o n q u l i t y g set rendering hint rendering hint k e y n t i l i s i n g rendering hint v l u e n t i l i s o n g set rendering hint rendering hint k e y n t i l i s i n g rendering hint v l u e n t i l i s o f f g set rendering hint rendering hint k e y s t r o k e o n t r o l rendering hint v l u e s t r o k e n o r m l i z e g set rendering hint rendering hint k e y s t r o k e o n t r o l rendering hint v l u e s t r o k e p u r e g set rendering hint rendering hint k e y f r t i o n l m e t r i s option fractional metric ? rendering hint v l u e f r t i o n l m e t r i s o n rendering hint v l u e f r t i o n l m e t r i s o f f g set rendering hint rendering hint k e y f r t i o n l m e t r i s rendering hint v l u e f r t i o n l m e t r i s o f f g set rendering hint rendering hint k e y i n t e r p o l t i o n rendering hint v l u e i n t e r p o l t i o n b i u b i g set rendering hint rendering hint k e y r e n d e r i n g rendering hint v l u e r e n d e r q u l i t y g set rendering hint rendering hint k e y t e x t n t i l i s i n g option text antialias ? rendering hint v l u e t e x t n t i l i s o n rendering hint v l u e t e x t n t i l i s o f f draw background g draw grid g draw g draw handle g draw tool g protect draw background graphics2 d g rainbow rainbow + 10 % 360 g set color color color h s bto r g b rainbow 360f 0 3f 1 0f position zero coordinate point on view x translate x scale factor y translate y scale factor get width h get height g set color get background g fill rect x y x h y draw gray background area which at negative view coordinate y 0 g set color color 0xf0f0f0 g fill rect 0 0 y x 0 g set color color 0xf0f0f0 g fill rect 0 0 x h protect draw grid graphics2 d g constrain draw g thi protect draw graphics2 d gr get figure count 0 empty label empty label set bound 0 0 get width get height empty label paint gr graphics2 d g graphics2 d gr create affine transform tx g get transform tx translate translate x scale factor translate y scale factor tx scale scale factor scale factor g set transform tx set font render context g get font render context draw g g dispose protect draw handle graphics2 d g editor editor get focus view thi validate handle handle h get selection handle h draw g handle h get secondary handle h draw g protect draw tool graphics2 d g editor editor get view thi editor get tool editor get tool draw g set d thi thi remove listener thi clear selection thi d thi thi add listener thi invalidate dimension invalidate get parent get parent validate repaint protect repaint rectangle2 d r rectangle vr view r vr grow 1 1 repaint vr area invalidate evt repaint evt get invalidate area invalidate dimension area invalidate handle evt repaint evt get invalidate area invalidate dimension figure add evt repaint whole remove message label evt get get figure count 1 repaint repaint evt get invalidate area invalidate dimension figure remove evt repaint whole draw message label evt get get figure count 0 repaint repaint evt get invalidate area remove selection evt get figure invalidate dimension invalidate invalidate dimension invalidate add figure current selection add selection figure figure select figure add figure invalidate handle fire selection change repaint add collection figure current selection add selection collection figure figure select figure add figure invalidate handle fire selection change repaint remove figure selection remove selection figure figure select figure remove figure invalidate handle fire selection change repaint figure isn t select add selection otherwise remove selection toggle selection figure figure select figure contain figure select figure remove figure select figure add figure fire selection change invalidate handle repaint select figure select select figure clear select figure add get figure invalidate handle fire selection change repaint clear current selection clear selection get selection count 0 select figure clear invalidate handle fire selection change repaint test wheth given figure select figure select figure check figure select figure contain check figure get current selection figure selection figure selection cut copy paste collection figure get select figure collection unmodifiable set select figure get number select figure get selection count select figure size get currently active selection handle list handle get selection handle validate handle collection unmodifiable list selection handle get currently active secondary handle list handle get secondary handle validate handle collection unmodifiable list secondary handle invalidate handle invalidate handle handle are valid handle are valid rectangle invalidate area handle handle selection handle handle remove handle listener thi invalidate area invalidate area handle get draw bound invalidate area add handle get draw bound handle dispose selection handle clear secondary handle clear select figure size 0 invalidate area repaint invalidate area 1 invalidate area repaint invalidate area validate handle repaint validate handle validate handle handle are valid handle are valid rectangle invalidate area level detail level figure figure get select figure handle handle figure create handle level handle set view thi selection handle add handle handle add handle listener thi invalidate area invalidate area handle get bound invalidate area add handle get bound level 0 selection handle size 0 detail level level + 1 invalidate area repaint invalidate area find handle at given coordinate handle handle found handle find handle point p validate handle handle handle reverse list handle get secondary handle handle contain p handle handle handle reverse list handle get selection handle handle contain p handle get compatible handle collection contain handle compatible handle collection handle get compatible handle handle master validate handle hash set figure owner hash set figure link list handle compatible handle link list handle owner add master get owner compatible handle add master handle handle get selection handle owner contain handle get owner handle combinable master owner add handle get owner compatible handle add handle compatible handle find figure at given coordinate figure figure found figure find figure point p get find figure view p collection figure find figure rectangle r get find figure view r collection figure find figure within rectangle r get find figure within view r add figure selection listener figure selection listener fsl listener list add figure selection listener fsl remove figure selection listener figure selection listener fsl listener list remove figure selection listener fsl notify listener list have register interest notification on thi type protect fire selection change listener list get listener count 0 figure selection notify listener have register interest guarantee non listener listener list get listener list process listener last first notify those are interest thi i listener length 2 i 0 i 2 listener i figure selection listener lazily create figure selection thi figure selection listener listener i+1 selection change handle request remove handle e selection handle remove e get handle e get handle dispose invalidate handle validate handle repaint e get invalidate area protect invalidate dimension prefer size constrain get constrain constrain set constrain constrain value constrain old value constrain constrain value repaint fire property change constrain old value value side effect change view translation dimension get prefer size prefer size dimension2 d d dimension2 d translate x 0 translate y 0 figure f get figure rectangle2 d r f get draw bound d width math d width r x + r width d height math d height r y + r height translate x math translate x r x translate y math translate y r y prefer size dimension d width + 10 translate x scale factor d height + 10 translate y scale factor fire view transform change repaint prefer size convert coordinate view coordinate point view point2 d p point p x translate x scale factor p y translate y scale factor convert view coordinate coordinate point2 d view point p point2 d p x scale factor + translate x p y scale factor + translate y rectangle view rectangle2 d r rectangle r x translate x scale factor r y translate y scale factor r width scale factor r height scale factor rectangle2 d view rectangle r rectangle2 d r x scale factor + translate x r y scale factor + translate y r width scale factor r height scale factor container get container thi get scale factor scale factor set scale factor value old value scale factor scale factor value fire view transform change fire property change scale factor old value value invalidate dimension invalidate get parent get parent validate repaint protect fire view transform change handle handle selection handle handle view transform change handle handle secondary handle handle view transform change set handle detail level value detail level value invalidate handle repaint get handle detail level detail level handle request secondary handle handle e e get handle secondary handle owner secondary handle owner e get handle secondary handle clear secondary handle add secondary handle owner create secondary handle handle h secondary handle h set view thi h add handle listener thi repaint affine transform get view transform affine transform t affine transform t scale scale factor scale factor t translate translate x translate y t set dom factory dom factory value dom factory old value dom factory thi dom factory value fire property change dom factory old value value dom factory get dom factory dom factory copy dom factory get toolkit beep hash set figure copy hash set figure get select figure copy size 0 output stream out output stream nano xml dom output domo nano xml dom output dom factory domo open element clip figure f get get figure copy contain f domo write f domo close element domo save out data out composite transferable transfer composite transferable transfer add xml transferable data application x clip clip transfer add xml transferable data text xml clip toolkit get toolkit get clipboard set content transfer transfer i o e e stack trace get toolkit beep cut dom factory get toolkit beep copy delete delete list figure delete list figure get select figure clear selection get remove delete paste dom factory get toolkit beep list figure select list figure data flavor flavor data flavor application x clip clip transferable transfer toolkit get toolkit get clipboard get content thi transfer data flavor support flavor composite edit ce composite edit paste get fire undoable edit happen ce figure f link list figure get select figure get remove f input stream input stream transfer get transfer data flavor nano xml dom input domi nano xml dom input dom factory domi open element clip i 0 n domi get element count i n i++ figure f figure domi read i get add f select add f close clear selection add selection select get fire undoable edit happen ce toolkit get toolkit beep throwable e e stack trace duplicate collection figure sort get sort get select figure hash map figure figure duplicate map hash map figure figure sort size clear selection get list figure duplicate list figure sort size affine transform tx affine transform tx translate 5 5 figure f sort figure d figure f clone d basic transform tx duplicate add d duplicate map put f d add d figure f duplicate f remap duplicate map add selection duplicate remove notify editor editor thi editor repaint add notify editor editor thi editor editor repaint variable declaration modify g e n b e g i n variable button group button group1 end variable declaration g e n e n d variable 