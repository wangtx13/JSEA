# grid constrain 2 1 1 2006 07 05 1996 2006 it contributor disclose accordance draw geom constrain point fall on grid author 2 1 1 2006 07 05 2 1 2006 07 03 visible 2 0 2006 01 14 support precision coordinate 1 0 2004 03 17 create grid constrain constrain width height color minor color color 0xebebeb color major color color 0xcacaca create instance width width grid cell height height grid cell grid constrain width height width 0 || height 0 illegal argument width height 0 width width height height get width width get height height point2 d constrain point point2 d p f i x m e work width p x math round p x width width p y math round p y height height p + +width+ +height+ visible width 1 height 1 draw graphics2 d g view view visible affine transform t view get view transform rectangle view bound g get clip bound rectangle2 d bound view view view bound point2 d constrain point point2 d bound x bound y point2 d point point2 d point2 d view point point2 d width view get scale factor 1 g set color minor color i x width m x + bound width width + 1 i m i++ g set color i % 5 0 ? major color minor color point x width i t transform point view point g draw line view point x view bound y view point x view bound y + view bound height height view get scale factor 1 g set color minor color i y height m y + bound height height + 1 i m i++ g set color i % 5 0 ? major color minor color point y height i t transform point view point g draw line view bound x view point y view bound x + view bound width view point y 