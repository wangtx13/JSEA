# delegation selection tool 2 0 2006 02 21 1996 2006 contributor right reserve thi disclose accordance term enter ??? draw geom app action action selection tool which recogniz click popup menu trigger click popup trigger encounter hook call which handle thi overriden subclasse provide customize behaviour p thi tool delegate mouse specific tool figure which ha click provide specialize tool wern randelshof 2 0 2006 01 18 change support precision coordinate popup timer add support radio button menu item add 1 0 2003 12 01 derive 5 4b1 delegation selection tool extend selection tool set action which apply collection action action set action which apply selection figure collection action selection action we thi timer show popup menu when user press mouse key second move mouse timer popup timer when popup menu visible we track mouse movement j popup menu popup menu create instance delegation selection tool thi link list action link list action create instance delegation selection tool collection action action collection action selection action thi action action thi selection action selection action set action collection action action thi action action set figure action collection action selection action thi selection action selection action mouse listener mouse press popup trigger ha activate then appropriate hook call mouse press mouse evt popup timer popup timer stop popup timer x x x when we want support multiple view we have implement thi set view view e get evt popup trigger handle popup menu evt mouse press evt popup timer timer 1000 action listener action perform action aevt handle popup menu evt popup timer popup timer set repeat popup timer start mouse listener mouse release popup trigger ha activate then appropriate hook call mouse release mouse evt popup timer popup timer stop popup timer mouse release evt evt popup trigger handle popup menu evt mouse drag mouse evt popup timer popup timer stop popup timer popup menu || popup menu visible mouse drag evt mouse click mouse evt mouse click evt evt get click count 2 handle click evt hook which overriden subclass provide specialise behaviour popup trigger protect handle popup menu mouse evt point p point evt get x evt get y figure figure get view find figure p figure || action size 0 show popup menu figure p evt get component popup menu protect show popup menu figure figure point p component j popup menu menu j popup menu popup menu menu j menu submenu submenu link list action popup action link list action figure link list action figure action link list action figure get action view p popup action size 0 figure action size 0 popup action add popup action add figure action popup action size 0 selection action size 0 popup action add popup action add selection action popup action size 0 action size 0 popup action add popup action add action hash map button group button group hash map button group action popup action get value action s u b m e n u k e y submenu || submenu equal get value action s u b m e n u k e y submenu get value action s u b m e n u k e y submenu j menu submenu menu add submenu submenu submenu submenu submenu add separator menu add separator button button get value action b u t t o n g r o u p k e y button group bg button group get get value action b u t t o n g r o u p k e y bg bg button group button group put get value action b u t t o n g r o u p k e y bg button j radio button menu item bg add button button set select get value action s e l e t e d k e y t r u e get value action s e l e t e d k e y button j check box menu item button set select get value action s e l e t e d k e y t r u e button j menu item submenu submenu add button menu add button menu show p x p y hook which overriden subclass provide specialise behaviour click protect handle click mouse evt view v get view point po point evt get x evt get y handle handle v find handle po handle handle track click po evt get modifier ex point2 d p view po figure out figure get view find figure po figure figure out figure figure tool figure tool figure get tool p figure tool figure get find figure inside p figure figure tool figure get tool p figure tool set tracker figure tool figure tool mouse press evt out figure handle mouse click p evt get view v clear selection v add selection out figure v clear selection v add selection out figure v set handle detail level v get handle detail level 1 ? 0 1 v set handle detail level v get handle detail level + 1 