# vertical grid layout 1 0 27 november 2003 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org org jhotdraw draw action vertical grid layout p a grid layout which lay out column first author wern randelshof 1 0 27 november 2003 create vertical grid layout layout manager io serializable hgap vgap row col is vertical create a grid layout with a of one column p component in a single row vertical grid layout 1 0 0 0 create a grid layout with the specify number of row and column all component in the layout are given equal size p one but not both of row and col can be zero which mean that any number of can be place in a row or in a column row the row with the value zero meaning any number of row col the column with the value zero meaning any number of column vertical grid layout row col row col 0 0 vertical grid layout row col is vertical row col 0 0 is vertical vertical grid layout row col hgap vgap row col hgap vgap create a grid layout with the specify number of row and column all component in the layout are given equal size p in addition the horizontal and vertical gap are set to the specify value horizontal gap are place at the left and right edge and between each of the column vertical gap are place at the top and bottom edge and between each of the row p one but not both of row and col can be zero which mean that any number of can be place in a row or in a column p all vertical grid layout constructor defer to one row the row with the value zero meaning any number of row col the column with the value zero meaning any number of column hgap the horizontal gap vgap the vertical gap illegal argument the value of both row and col is set to zero vertical grid layout row col hgap vgap is vertical row 0 col 0 illegal argument row and col cannot both be zero row row col col hgap hgap vgap vgap is vertical is vertical get the number of row in layout the number of row in layout since j d k1 1 get row row set the number of row in layout to the specify value row the number of row in layout illegal argument the value of both row and col is set to zero since j d k1 1 set row row row 0 col 0 illegal argument row and col cannot both be zero row row set vertical b is vertical b is vertical is vertical get the number of column in layout the number of column in layout since j d k1 1 get column col set the number of column in layout to the specify value setting the number of column ha no affect on the layout the number of row specify by a constructor or by the tt set row tt is non zero in that the number of column display in the layout is determine by the total number of component and the number of row specify col the number of column in layout illegal argument the value of both row and col is set to zero since j d k1 1 set column col col 0 row 0 illegal argument row and col cannot both be zero col col get the horizontal gap between component the horizontal gap between component since j d k1 1 get hgap hgap set the horizontal gap between component to the specify value hgap the horizontal gap between component since j d k1 1 set hgap hgap hgap hgap get the vertical gap between component the vertical gap between component since j d k1 1 get vgap vgap set the vertical gap between component to the specify value vgap the vertical gap between component since j d k1 1 set vgap vgap vgap vgap add the specify component with the specify name to the layout name the name of the component comp the component to be add add layout component name component comp remove the specify component from the layout comp the component to be remove remove layout component component comp determine the prefer size of the container argument using grid layout p the prefer width of a grid layout is the large prefer width of any of the component in the container time the number of column plus the horizontal padding time the number of column plus one plus the left and right inset of the target container p the prefer height of a grid layout is the large prefer height of any of the component in the container time the number of row plus the vertical padding time the number of row plus one plus the top and bottom inset of the target container parent the container in which to the layout the prefer dimension to lay out the subcomponent of the specify container dimension prefer layout size container parent parent get tree lock inset inset parent get inset ncomponent parent get component count nrow row ncol col nrow 0 ncol ncomponent + nrow 1 nrow nrow ncomponent + ncol 1 ncol w 0 h 0 i 0 i ncomponent i++ component comp parent get component i dimension d comp get prefer size w d width w d width h d height h d height dimension inset left + inset right + ncol w + ncol 1 hgap inset top + inset bottom + nrow h + nrow 1 vgap determine the minimum size of the container argument using grid layout p the minimum width of a grid layout is the large minimum width of any of the component in the container time the number of column plus the horizontal padding time the number of column plus one plus the left and right inset of the target container p the minimum height of a grid layout is the large minimum height of any of the component in the container time the number of row plus the vertical padding time the number of row plus one plus the top and bottom inset of the target container parent the container in which to the layout the minimum dimension need to lay out the subcomponent of the specify container dimension minimum layout size container parent parent get tree lock inset inset parent get inset ncomponent parent get component count nrow row ncol col nrow 0 ncol ncomponent + nrow 1 nrow nrow ncomponent + ncol 1 ncol w 0 h 0 i 0 i ncomponent i++ component comp parent get component i dimension d comp get minimum size w d width w d width h d height h d height dimension inset left + inset right + ncol w + ncol 1 hgap inset top + inset bottom + nrow h + nrow 1 vgap lay out the specify container using layout p reshape the component in the specify target container in order to satisfy the constraint of the vertical grid layout p the grid layout manager determine the size of individual component by divide the free space in the container into equal size portion accord to the number of row and column in the layout the container s free space equal the container s size minus any inset and any specify horizontal or vertical gap all component in a grid layout are given the same size parent the container in which to the layout see container see container#do layout layout container container parent parent get tree lock inset inset parent get inset ncomponent parent get component count nrow row ncol col ltr parent get component orientation is left to right ncomponent 0 nrow 0 ncol ncomponent + nrow 1 nrow nrow ncomponent + ncol 1 ncol w parent get width inset left + inset right h parent get height inset top + inset bottom w w ncol 1 hgap ncol h h nrow 1 vgap nrow i ltr c 0 x inset left c ncol c++ x + w + hgap r 0 y inset top r nrow r++ y + h + vgap is vertical i r + c nrow i r ncol + c i ncomponent parent get component i set bound x y w h c 0 x parent get width inset right w c ncol c++ x w + hgap r 0 y inset top r nrow r++ y + h + vgap is vertical i r + c nrow i r ncol + c i ncomponent parent get component i set bound x y w h the representation of grid layout s value a representation of grid layout to get get name + hgap + hgap + vgap + vgap + row + row + col + col + 