# tool 3 0 2006 02 15 1996 2006 contributor right reserve thi disclose accordance term enter ??? draw undo composite edit geom tool wern randelshof 3 0 2006 02 15 update handle multiple view 2 0 2006 01 14 change support precision coordinate 1 0 2003 12 01 derive 5 4b1 tool implement tool thi set thi active tool editor active thi set tool some work thi prevent current view change when mouse enter receive protect working protect editor editor protect point anchor point protect listener list listener list listener list create instance tool add undoable edit listener undoable edit listener l listener list add undoable edit listener l remove undoable edit listener undoable edit listener l listener list remove undoable edit listener l activate editor editor thi editor editor active editor get view request focus deactivate editor editor thi editor editor active active active protect view get view editor get view protect editor get editor editor protect get get view get protect point2 d view point p constrain point get view view p protect point2 d constrain point point p constrain point get view view p protect point2 d constrain point point2 d p get view get constrain constrain point p delete selection depend on tool thi could select figure select point select text edit delete get view get remove get view get select figure cut selection clipboard depend on tool thi could select figure select point select text edit cut copy selection clipboard depend on tool thi could select figure select point select text edit copy duplicate selection depend on tool thi could select figure select point select text edit duplicate paste content clipboard depend on tool thi could select figure select point select text edit paste key release key evt fire tool key type key evt key press key evt evt get container editor set view editor find view container evt get fire tool start evt get composite edit edit evt get key key v k d e l e t e key v k b k s p e edit delete key v k evt get modifier key t r l m s k | key m e t m s k 0 get view add selection get view get get figure key v k l e f t collection figure figure get view get select figure affine transform tx affine transform tx translate 1 0 figure f figure f change f basic transform tx f change get fire undoable edit happen transform edit figure tx key v k r i g h t collection figure figure get view get select figure affine transform tx affine transform tx translate 1 0 figure f figure f change f basic transform tx f change get fire undoable edit happen transform edit figure tx key v k u p collection figure figure get view get select figure affine transform tx affine transform tx translate 0 1 figure f figure f change f basic transform tx f change get fire undoable edit happen transform edit figure tx key v k d o n collection figure figure get view get select figure get fire undoable edit happen edit composite edit figur en verschieben affine transform tx affine transform tx translate 0 1 figure f figure f change f basic transform tx f change get fire undoable edit happen transform edit figure tx mouse click mouse evt mouse enter mouse evt working editor set view editor find view container evt get mouse exit mouse evt mouse move mouse evt mouse press mouse evt view view editor find view container evt get view request focus anchor point evt get x evt get y working fire tool start view mouse release mouse evt working add tool listener tool listener l listener list add tool listener l remove tool listener tool listener l listener list remove tool listener l notify listener list have register interest notification on thi type protect fire tool start view view tool notify listener have register interest guarantee non listener listener list get listener list process listener last first notify those are interest thi i listener length 2 i 0 i 2 listener i tool listener lazily create tool thi view rectangle 0 0 1 1 tool listener listener i+1 tool start notify listener list have register interest notification on thi type protect fire tool tool notify listener have register interest guarantee non listener listener list get listener list process listener last first notify those are interest thi i listener length 2 i 0 i 2 listener i tool listener lazily create tool thi get view rectangle 0 0 1 1 tool listener listener i+1 tool notify listener list have register interest notification on thi type protect fire area invalidate rectangle2 d r point p1 get view view point2 d r x r y point p2 get view view point2 d r x+r width r y+r height fire area invalidate rectangle p1 x p1 y p2 x p1 x p2 y p1 y notify listener list have register interest notification on thi type protect fire area invalidate rectangle invalidate area tool notify listener have register interest guarantee non listener listener list get listener list process listener last first notify those are interest thi i listener length 2 i 0 i 2 listener i tool listener lazily create tool thi get view invalidate area tool listener listener i+1 area invalidate draw graphics2 d g update cursor view view point p handle handle view find handle p handle view set cursor handle get cursor figure figure view find figure p figure view set cursor figure get cursor view view p view set cursor cursor get cursor 