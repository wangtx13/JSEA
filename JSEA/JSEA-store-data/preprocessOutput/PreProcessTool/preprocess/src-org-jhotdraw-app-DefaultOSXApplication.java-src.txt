# o s x application 1 0 october 4 2005 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org org jhotdraw app org jhotdraw app action o s x drop on dock action ch randelshof quaqua org jhotdraw org jhotdraw pref pref event bean io org jhotdraw app action about action org jhotdraw app action action org jhotdraw app action clear recent file action org jhotdraw app action close action org jhotdraw app action copy action org jhotdraw app action cut action org jhotdraw app action delete action org jhotdraw app action duplicate action org jhotdraw app action exit action org jhotdraw app action export action org jhotdraw app action focus action org jhotdraw app action maximize action org jhotdraw app action minimize action org jhotdraw app action action org jhotdraw app action o s x toggle palette action org jhotdraw app action open action org jhotdraw app action open recent action org jhotdraw app action paste action org jhotdraw app action redo action org jhotdraw app action save action org jhotdraw app action save a action org jhotdraw app action select all action org jhotdraw app action undo action a o s x application can handle the life cycle of multiple document window each being present in a j frame of it own the application provide all the functionality need to work with the document such a a menu bar tool bar and palette window p o s x stand mac o s x application document an o s x application can handle multiple project s at the same time each project get a j frame of it own an o s x application ha one menu bar attach to the top of the screen screen menu bar is share by all project s p o s x application is design mac o s x it will not work on other platform p the screen menu bar ha the following standard menu pre application name edit window help pre the first menu is the b application menu b it ha the following standard menu item o s x application wire the menu item to the action specify in bracket the preference menu item is only display the application ha an action with preference action the other menu item are alway display menu item without action wiring are generate by mac o s x and can not be change pre about application name about action preference preference action service hide application name hide other show all quit application name exit action pre the b menu b ha the following standard menu item o s x application wire the menu item to the action specify in bracket the application hasn t an action with the specify the menu item is not display menu item without action wiring are generate by and can be change by subclass pre action open open action open recent close close action save save action save a save a action save all revert to save revert to save action page setup print page setup action print print action pre the b edit menu b ha the following standard menu item o s x application wire the menu item to the action specify in bracket the application hasn t an action with the specify the menu item is not display menu item without action wiring are generate by and can be change by subclass pre undo undo action redo redo action cut cut action copy copy action paste paste action delete delete action select all select all action pre author wern randelshof 1 0 october 4 2005 create o s x application application o s x palette handler palette handler project current project preference pref link list action palette action create a instance o s x application init init pref preference user node get model ? get get model get init look and feel palette handler o s x palette handler init label init application action palette action link list action init palette palette action init screen menu bar launch set property apple graphic use quartz launch init look and feel set property apple laf use screen menu bar set property com apple maco use screen menu bar u i manager set look and feel quaqua manager get look and feel name e e print stack trace init application action application model mo get model mo put action about action about action mo put action exit action exit action mo put action o s x drop on dock action o s x drop on dock action mo put action action action mo put action open action open action mo put action clear recent file action clear recent file action mo put action save action save action mo put action save a action save a action mo put action close action close action mo put action undo action undo action mo put action redo action redo action mo put action cut action cut action mo put action copy action copy action mo put action paste action paste action mo put action delete action delete action mo put action duplicate action duplicate action mo put action select all action select all action mo put action maximize action maximize action mo put action minimize action minimize action init project action project p p put action focus action focus action p add palette window palette palette handler add palette palette remove palette window palette palette handler remove palette palette show project p p is showing p set showing p get j frame f j frame title title label get unnam title get name f set title label get format frame title title get name p get multiple open f set close operation j frame d o n o t h i n g o n c l o s e f set prefer size dimension 400 400 preference install frame pref handler pref project f point loc f get location move move iterator i project iterator i ha next project a project project i next a project p a project is showing utility get window ancestor a project get component get location equal loc loc x + 22 loc y + 22 move move f set location loc palette handler add f p f add window listener window adapter window closing window event evt set current project p get model get action close action action perform action event f action event a c t i o n p e r f o r m e d window closing p add property change listener property change listener property change property change event evt name evt get property name name equal ha unsav change f get root pane put client property window modify p ha unsav change name equal f set title p get ? unnam p get get name f set j menu bar create menu bar p f get content pane add p get component f set visible hide project p p is showing j frame f j frame utility get window ancestor p get component f set visible f remove p get component palette handler remove f p f dispose create a menu bar p the project which the menu bar is create may be the menu bar is attach to an application component such a the screen menu bar or a floating palette window j menu bar create menu bar project p resource bundle label resource bundle get l a f bundle org jhotdraw app label application model model get model j menu bar mb j menu bar j menu m j menu item mi j menu open recent menu m j menu label configure menu m mi m add model get action action mi set icon mi m add model get action open action mi set icon open recent menu j menu label configure menu open recent menu open recent open recent menu add model get action clear recent file action update open recent menu open recent menu m add open recent menu m add separator mi m add model get action close action mi set icon mi m add model get action save action mi set icon mi m add model get action save a action mi set icon model get action export action mi m add model get action export action mi set icon mb add m m j menu label configure menu m edit mi m add model get action undo action mi set icon mi m add model get action redo action mi set icon m add separator mi m add model get action cut action mi set icon mi m add model get action copy action mi set icon mi m add model get action paste action mi set icon mi m add model get action duplicate action mi set icon mi m add model get action delete action mi set icon m add separator mi m add model get action select all action mi set icon mb add m j menu mm model create menu p mb add mm m j menu j menu window menu m label configure menu m window mi m add model get action minimize action mi set icon mi m add model get action maximize action mi set icon m add separator project pr project pr get action focus action window menu add pr get action focus action palette action size 0 m add separator action a palette action j check box menu item cbmi j check box menu item a action configure j check box menu item cbmi a cbmi set icon m add cbmi mb add m add property change listener property change listener property change property change event evt name evt get property name name project count p || project contain p j menu m window menu m remove all m add get model get action minimize action m add get model get action maximize action m add separator iterator i project iterator i ha next project pr project i next pr get action focus action m add pr get action focus action palette action size 0 m add separator action a palette action j check box menu item cbmi j check box menu item a action configure j check box menu item cbmi a cbmi set icon m add cbmi remove property change listener name recent file update open recent menu open recent menu mb update open recent menu j menu open recent menu open recent menu get item count 0 j menu item clear recent file item j menu item open recent menu get item open recent menu get item count 1 open recent menu remove all f recent file open recent menu add open recent action o s x application f recent file size 0 open recent menu add separator open recent menu add clear recent file item project get current project current project set current project project value project old value current project current project value fire property change current project old value value init screen menu bar application model model get model net roydesign app application mrjapp net roydesign app application get instance mrjapp set frameles j menu bar create menu bar mrjapp get about j menu item set action model get action about action mrjapp get quit j menu item set action model get action exit action mrjapp add open document listener model get action o s x drop on dock action init palette link list action palette action link list j tool bar tool bar link list j tool bar get model create tool bar j tool bar stb j tool bar stb set name label get standard tool bar title add standard action to stb tool bar add first stb i 0 x 0 j tool bar tb tool bar i++ tb set floatable tb set orientation j tool bar v e r t i c a l tb set focusable j frame d j frame j dialog d j dialog palette add d d set focusable d set resizable d get content pane set layout border layout d get content pane add tb border layout c e n t e r d set title tb get name d set alway on top d set undecorat d get root pane set window decoration style j root pane f r a m e d get root pane set font font lucida grande font p l a i n 11 d get root pane put client property quaqua root pane is vertical f a l s e d get root pane put client property quaqua root pane is palette t r u e d set j menu bar create menu bar d pack d set focusable window state preference install palette pref handler pref toolbar +i d x x + d get width palette action add o s x toggle palette action d tb get name add palette d add standard action to j tool bar tb j button b application model mo get model b tb add mo get action action b set focusable b tb add mo get action open action b set focusable b tb add mo get action save action tb add separator b tb add mo get action undo action b set focusable b tb add mo get action redo action b set focusable tb add separator b tb add mo get action cut action b set focusable b tb add mo get action copy action b set focusable b tb add mo get action paste action b set focusable is sharing tool among project component get component 