# graphical composite figure 2 0 2006 01 14 1996 2006 contributor right reserve thi disclose accordance term enter ??? draw io i o geom undo draw attribute key geom xml dom input xml dom output graphical composite figure fill gap between composite figure other figure which mainly have presentation purpose graphical composite figure configure figure which take over task rendering graphical presentation composite figure therefore graphical composite figure manage contain figure like composite figure doe delegate graphical presentation another graphical figure which purpose draw container contain figure graphical composite figure add link composite figure composite figure contain presentation figure which remove normally link composite figure composite figure see contain figure because ha mechanism draw itself instead relie on contain figure draw themselve thereby giving link composite figure composite figure appearance howev b graphical composite figure b s presentation figure draw itself even when b graphical composite figure b contain other figure b graphical composite figure b also us link layout layout layout contain figure wolfram kaiser wern randelshof thi derive 2 0 2006 01 14 change support precision coordinate 1 0 1 dezemb 2003 derive 5 4b1 graphical composite figure extend composite figure protect hash map attribute key attribute hash map attribute key hash set attribute key forbid attribute figure which perform presentation task thi composite figure composite figure usually t have own presentation present sum child figure presentation figure handle figure change child presentation figure handler presentation figure handler presentation figure handler thi presentation figure handler implement figure listener undoable edit listener graphical composite figure owner presentation figure handler graphical composite figure owner thi owner owner figure request remove figure e owner remove e get figure figure remove figure evt figure change figure e owner change owner change owner fire figure change e owner change figure add figure e figure attribute change figure e figure area invalidate figure e owner change owner fire area invalidate e get invalidate area undoable edit happen undoable edit e owner fire undoable edit happen e get edit constructor which us nothing presentation figure thi constructor need storable mechanism graphical composite figure thi constructor which create graphical composite figure given graphical figure present presentation figure figure which render container graphical composite figure figure presentation figure set presentation figure presentation figure logcal display area thi delegate encapsulate presentation figure rectangle2 d get bound get presentation figure get bound get presentation figure get bound contain point2 d p get presentation figure get presentation figure contain p contain p add notify add notify get presentation figure get presentation figure add notify remove notify remove notify get presentation figure get presentation figure remove notify draw area thi delegate encapsulate presentation figure rectangle2 d get figure draw bound rectangle2 d r get presentation figure rectangle2 d presentation bound get presentation figure get draw bound r get figure draw bound r empty r presentation bound r add presentation bound r get figure draw bound r move figure thi subclasser override client usually call display box basic set bound point2 d anchor point2 d get layout basic set bound anchor basic set presentation figure bound anchor rectangle2 d r get layout layout thi anchor basic set presentation figure bound point2 d r get x r get y point2 d math x r get x math y r get y invalidate protect basic set bound point2 d anchor point2 d basic set bound anchor protect basic set presentation figure bound point2 d anchor point2 d get presentation figure get presentation figure basic set bound anchor standard presentation which delegate encapsulate presentation figure presentation figure move well contain figure basic transform affine transform tx basic transform tx get presentation figure get presentation figure basic transform tx draw figure thi delegate encapsulate presentation figure draw figure graphics2 d g draw presentation figure g draw figure g protect draw presentation figure graphics2 d g get presentation figure get presentation figure draw g handle presentation figure collection handle create handle detail level link list handle handle link list handle detail level 0 move handle add move handle thi handle handle get presentation figure get handle set figure which render thi composite figure presentation task composite figure are delegate thi presentation figure presentation figure figure take over presentation task set presentation figure figure presentation figure thi presentation figure thi presentation figure remove figure listener presentation figure handler thi presentation figure remove undoable edit listener presentation figure handler get thi presentation figure remove notify get thi presentation figure presentation figure thi presentation figure thi presentation figure add figure listener presentation figure handler thi presentation figure add undoable edit listener presentation figure handler get thi presentation figure add notify get f i x m e we should calculate layout here get figure which render thi composite figure presentation task composite figure are delegate thi presentation figure figure take over presentation task figure get presentation figure presentation figure graphical composite figure clone graphical composite figure graphical composite figure clone presentation figure thi presentation figure ? figure thi presentation figure clone presentation figure presentation figure add figure listener presentation figure handler presentation figure add undoable edit listener presentation figure handler remap hash map figure figure old remap old presentation figure presentation figure remap old set attribute figure attribute key semantics are define implement figure set attribute attribute key key value forbid attribute || forbid attribute contain key change get presentation figure get presentation figure set attribute key value set attribute key value old value attribute put key value fire attribute change key old value value fire undoable edit happen attribute change edit thi key old value value change set attribute figure attribute key semantics are define implement figure basic set attribute attribute key key value forbid attribute || forbid attribute contain key get presentation figure get presentation figure basic set attribute key value basic set attribute key value old value attribute put key value set attribute enable attribute key key b forbid attribute forbid attribute hash set attribute key b forbid attribute remove key forbid attribute add key get attribute figure get attribute attribute key key get presentation figure get presentation figure get attribute key attribute contain key key ? key get value attribute get key applie attribute thi figure figure protect apply attribute figure map entry attribute key entry attribute entry set set attribute entry get key entry get value protect write attribute dom output out i o figure prototype figure out get prototype element open map entry attribute key entry attribute entry set attribute key key entry get key forbid attribute || forbid attribute contain key prototype value key get prototype attribute value key get thi prototype value attribute value || prototype value attribute value prototype value equal attribute value element open out open element element open out open element key get key out write entry get value out close element element open out close element protect read attribute dom input i o get element count 0 open element i get element count 1 i 0 i open element i get tag value read attribute key key get attribute key key key assignable value forbid attribute || forbid attribute contain key set attribute key value close element close element protect attribute key get attribute key attribute key support attribute map get map attribute key get attribute hash map attribute key attribute thi chop point at rectangle get bound figure p figure which have non rectangular shape need override thi p thi take attribute account attribute key s t r o k e o l o r attribute key s t r o k e p l e m e n t attribute key stroke total width point2 d chop point2 d rectangle2 d r get bound s t r o k e o l o r get thi grow s t r o k e p l e m e n t get thi e n t e r grow attribute key get stroke total width thi o u t s e grow attribute key get stroke total width thi i n s e grow 0d geom grow r grow grow geom angle point r geom point angle r 