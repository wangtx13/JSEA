# undo redo manager 1 3 1 2006 04 12 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org org jhotdraw undo event bean event undo org jhotdraw same a undo manager but provide action undo and redo operation author wern randelshof 1 3 1 2006 04 12 set locale add 1 3 2006 02 28 support property change listener add 1 2 2 2006 02 25 configure action from resource bundle 1 2 1 2003 11 02 adapt to change in resource bundle 1 2 2003 03 16 text and accelerator key are now read from a resource bundle 1 1 2 2003 03 12 action use now key stroke instead of a accelerator key 1 1 1 2002 05 10 add edit is now smart when determine wheth an edit is significant 1 1 2002 04 08 ha significant edit clear change add 1 0 2001 10 09 undo redo manager undo manager undo undo manager property change support property support property change support d e b u g the resource bundle use internationalisation resource bundle label flag is set to when at least one significant undoable edit ha be add to the manager since the last call to discard all edit ha significant edit flag is set to when an undo or redo operation is in progress the undo redo manager ignore all incoming undoable edit event flag is undo or redo in progress sending undoable edit event to the undo redo manager disable the undo and redo function of the manager undoable edit d i s c a r d a l l e d i t s undoable edit can undo can redo undo action use in a menu bar undo action action undo action label configure action undo set enable invoke when an action occur action perform action event evt undo cannot undo e err cannot undo +e e print stack trace redo action use in a menu bar redo action action redo action label configure action redo set enable invoke when an action occur action perform action event evt redo cannot redo e out cannot redo +e the undo action instance undo action undo action the redo action instance redo action redo action resource bundle get label label label resource bundle get l a f bundle org jhotdraw undo label label create undo redo manager undo redo manager get label undo action undo action redo action redo action set locale locale l label resource bundle get l a f bundle org jhotdraw undo label l discard all edit discard all edit discard all edit update action set ha significant edit set ha significant edit value old value ha significant edit ha significant edit value fire property change ha significant edit old value value at least one significant undoable edit ha be add since the last call to discard all edit ha significant edit ha significant edit in progress insert an edit at index of next add and remove any old edit that be at index of next add or late the die is call on each edit that is remove is sent in the reverse of the order the edit be add update index of next add p not in progress act a a compound edit p p regardles of in progress undo or redo in progress call die on each edit that is sent p see compound edit#end see compound edit#add edit add edit undoable edit an edit d e b u g out undo redo manager add +an edit undo or redo in progress an edit die success add edit an edit update action success an edit is significant edit to be undo an edit set ha significant edit success get the undo action use a an undo menu item action get undo action undo action get the redo action use a a redo menu item action get redo action redo action update the property of the undo action and of the redo action update action label d e b u g out undo manager update action + edit to be undo + can undo +can undo + can redo +can redo can undo undo action set enable label get undo presentation name undo action set enable label label get undo undo action put value action n a m e label undo action put value action s h o r t d e s c r i p t i o n label can redo redo action set enable label get redo presentation name redo action set enable label label get redo redo action put value action n a m e label redo action put value action s h o r t d e s c r i p t i o n label undoe the last edit event the undo redo manager ignore all incoming undoable edit event undo is in progress undo cannot undo undo or redo in progress undo undo or redo in progress update action redoe the last undo edit event the undo redo manager ignore all incoming undoable edit event redo is in progress redo cannot undo undo or redo in progress redo undo or redo in progress update action undoe or redoe the last edit event the undo redo manager ignore all incoming undoable edit event undo or redo is in progress undo or redo cannot undo cannot redo undo or redo in progress undo or redo undo or redo in progress update action add property change listener property change listener listener property support add property change listener listener add property change listener property name property change listener listener property support add property change listener property name listener remove property change listener property change listener listener property support remove property change listener listener remove property change listener property name property change listener listener property support remove property change listener property name listener fire property change property name old value value property support fire property change property name old value value fire property change property name old value value property support fire property change property name old value value fire property change property name old value value property support fire property change property name old value value 