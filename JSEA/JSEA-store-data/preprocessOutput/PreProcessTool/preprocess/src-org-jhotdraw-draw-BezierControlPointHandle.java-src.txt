# bezi control point handle 1 0 23 januar 2006 1996 2006 contributor right reserve thi disclose accordance term enter draw undo geom geom bezi control point handle wern randelshof 1 0 23 januar 2006 create bezi control point handle extend handle protect index control point index composite edit edit create instance bezi control point handle bezi figure owner index coord owner thi index index thi control point index coord protect bezi figure get bezi figure bezi figure get owner protect point get location get bezi figure get point count index ? view view get bezi figure get point index control point index point 10 10 draw thi handle draw graphics2 d g bezi figure f get bezi figure f get point count index bezi path node v f get node index v keep colinear v mask bezi path c1 c2 m s k index 0 index f get node count || f close draw circle g color white color blue draw circle g color blue color white g set color color blue g draw line2 d view view point2 d v x 0 v y 0 view view point2 d v x control point index v y control point index protect rectangle basic get bound rectangle r rectangle get location r grow get handlesize 2 get handlesize 2 r track start point anchor modifier ex view get fire undoable edit happen edit composite edit punkt verschieben point2 d location view get constrain constrain point view view get location point2 d p view get constrain constrain point view view anchor track step point anchor point modifier ex bezi figure figure get bezi figure point2 d p view get constrain constrain point view view bezi path node v figure get node index fire area invalidate v figure change v keep colinear move control point independently figure basic set point index control point index p move control point opposite control point on same line math p i + math atan2 p y v y 0 p x v x 0 c2 control point index 1 ? 2 1 r math sqrt v x c2 v x 0 v x c2 v x 0 + v y c2 v y 0 v y c2 v y 0 sina math sin cosa math co point2 d p2 point2 d r cosa + v x 0 r sina + v y 0 figure basic set point index control point index p figure basic set point index c2 p2 figure change fire area invalidate figure get node index fire area invalidate bezi path node v rectangle2 d dr rectangle2 d v x 0 v y 0 0 0 i 1 i 3 i++ dr add v x i v y i rectangle vr view view dr vr grow get handlesize get handlesize fire area invalidate vr track end point anchor point modifier ex bezi figure figure get bezi figure modifier ex input m e t d o n m s k | input t r l d o n m s k 0 figure change bezi path node v figure get node index v keep colinear v keep colinear v keep colinear move control point opposite control point on same line point2 d p figure get point index control point index math p i + math atan2 p y v y 0 p x v x 0 c2 control point index 1 ? 2 1 r math sqrt v x c2 v x 0 v x c2 v x 0 + v y c2 v y 0 v y c2 v y 0 sina math sin cosa math co point2 d p2 point2 d r cosa + v x 0 r sina + v y 0 v x c2 p2 x v y c2 p2 y figure set node index v figure change view get fire undoable edit happen edit combinable handle h combinable h bezi control point handle bezi control point handle h index thi index control point index thi control point index get bezi figure get node count thi get bezi figure get node count 