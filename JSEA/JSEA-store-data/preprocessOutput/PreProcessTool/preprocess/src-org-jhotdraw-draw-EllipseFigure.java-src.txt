# ellipse figure 2 3 2006 06 17 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org ??? org jhotdraw draw org jhotdraw geom geom org jhotdraw geom org jhotdraw draw attribute key ellipse figure author wern randelshof 2 3 2006 06 17 add chop point2 d 2 2 2006 05 19 support stroke placement add 2 1 2006 03 22 get figure draw bound add 2 0 2006 01 14 change to support coordinate 1 0 2003 12 01 derive from jhotdraw 5 4b1 ellipse figure attribute figure ellipse2 d ellipse create a instance ellipse figure 0 0 0 0 ellipse figure x y width height ellipse ellipse2 d x y width height set fill color color white set stroke color color black set attribute enable t e x t c o l o r d r a w i n g s h a p e a n d b o u n d s a t t r i b u t e s e d i t i n g c o n n e c t i n g connector find connector point2 d p connection figure prototype chop ellipse connector connector find compatible connector connector c is start connector chop ellipse connector c o m p o s i t e f i g u r e s c l o n i n g e v e n t h a n d l i n g rectangle2 d get bound rectangle2 d ellipse get bounds2 d rectangle2 d get figure draw bound rectangle2 d r rectangle2 d ellipse get bounds2 d grow attribute key get perpendicular hit growth geom grow r grow grow r draw fill graphics2 d g ellipse2 d r ellipse2 d ellipse clone grow attribute key get perpendicular fill growth r x grow r y grow r width + grow 2 r height + grow 2 r width 0 r height 0 g fill r draw stroke graphics2 d g ellipse2 d r ellipse2 d ellipse clone grow attribute key get perpendicular draw growth r x grow r y grow r width + grow 2 r height + grow 2 r width 0 r height 0 g draw r check a point2 d is inside the figure contain point2 d p ellipse2 d r ellipse2 d ellipse clone grow attribute key get perpendicular hit growth r x grow r y grow r width + grow 2 r height + grow 2 r contain p basic set bound point2 d anchor point2 d ellipse x math min anchor x x ellipse y math min anchor y y ellipse width math max 0 1 math ab x anchor x ellipse height math max 0 1 math ab y anchor y transform the figure tx the transformation basic transform affine transform tx point2 d anchor get start point point2 d get end point basic set bound point2 d tx transform anchor anchor point2 d tx transform ellipse figure clone ellipse figure that ellipse figure clone that ellipse ellipse2 d ellipse clone that restore to geometry ellipse2 d r ellipse2 d geometry ellipse x r x ellipse y r y ellipse width r width ellipse height r height get restore data ellipse clone 