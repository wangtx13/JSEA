# draw project 1 1 2006 06 10 copyright c 1996 2006 by the original author of jhotdraw and all it contributor jhotdraw org all right reserve software is the confidential and proprietary information of jhotdraw org confidential information you shall not disclose such confidential information and shall use it only in accordance with the term of the license agreement you enter into with jhotdraw org org jhotdraw sample draw org jhotdraw gui org jhotdraw io extension filter org jhotdraw undo org jhotdraw bean io reflect border org jhotdraw app project org jhotdraw app action redo action org jhotdraw app action undo action org jhotdraw draw org jhotdraw draw action org jhotdraw xml a drawing project author wern randelshof 1 1 2006 06 10 extend to support draw application model 1 0 2006 02 07 create draw project project each draw project us it own undo redo manager allow undoing and redo action p project undo redo manager undo depend on the type of an application there may be one editor p project or a single share editor all project drawing editor editor create a project draw project initializ the project init init init component j panel zoom button panel j panel border layout scroll pane set layout placard scroll pane layout scroll pane set border empty border 0 0 0 0 set editor drawing editor view set dom factory draw figure factory undo undo redo manager view set drawing drawing view get drawing add undoable edit listener undo init action undo add property change listener property change listener property change property change event evt set ha unsav change undo ha significant edit resource bundle label resource bundle get l a f bundle org jhotdraw draw label j panel placard panel j panel border layout button p button p button tool bar button factory create zoom button view p button put client property quaqua button style placard p button put client property quaqua component visual margin inset 0 0 0 0 p button set font u i manager get font small font placard panel add p button border layout w e s t p button tool bar button factory create toggle grid button view p button put client property quaqua button style placard p button put client property quaqua component visual margin inset 0 0 0 0 p button set font u i manager get font small font label configure tool bar button p button align grid small placard panel add p button border layout e a s t scroll pane add placard panel j scroll pane l o w e r l e f t c o r n e r drawing editor get editor editor set editor drawing editor value drawing editor old value editor old value old value remove view editor value value value add view initializ project specific action init action put action undo action undo get undo action put action redo action undo get redo action set ha unsav change value set ha unsav change value undo set ha significant edit value write the project to the specify write f i o output stream out out buffer output stream output stream f nano xml lite dom output domo nano xml lite dom output view get dom factory domo open element plasma draw domo write view get drawing domo close element domo save out out out close i o e out out close read the project from the specify read f i o input stream in in buffer input stream input stream f nano xml lite dom input domi nano xml lite dom input view get dom factory in domi open element plasma draw drawing drawing drawing domi read domi close element utility and wait runnable run view get drawing remove undoable edit listener undo view set drawing drawing view get drawing add undoable edit listener undo undo discard all edit interrupt e internal internal e init cause e invocation target e internal internal e init cause e in in close i o e set a drawing editor the project set drawing editor drawing editor value editor editor remove view editor value editor editor add view get the drawing editor of the project drawing editor get drawing editor editor clear the project clear view set drawing drawing undo discard all edit override j chooser create open chooser j chooser c create open chooser c add choosable filter extension filter drawing xml c override j chooser create save chooser j chooser c create save chooser c add choosable filter extension filter drawing xml c is call from within the constructor to initialize the form w a r n i n g n o t modify the content of is alway regenerate by the form editor editor fold defaultstate collapse desc generate g e n b e g i n init component init component scroll pane j scroll pane view org jhotdraw draw drawing view set layout border layout scroll pane set horizontal scroll bar policy scroll pane constant h o r i z o n t a l s c r o l l b a r a l w a y s scroll pane set vertical scroll bar policy scroll pane constant v e r t i c a l s c r o l l b a r a l w a y s scroll pane set viewport view view add scroll pane border layout c e n t e r editor fold g e n e n d init component variable declaration not modify g e n b e g i n variable j scroll pane scroll pane org jhotdraw draw drawing view view end of variable declaration g e n e n d variable 