# text tool 2 0 2006 01 14 1996 2006 contributor right reserve thi disclose accordance term enter ??? draw geom geom tool create edit text figure editing behavior implement overlay figure provide text floating text area p tool interaction once figure text holder click see text holder see floating text area wern randelshof 2 0 2006 01 14 change support coordinate 1 0 2003 12 01 derive 5 4b1 text area tool extend creation tool implement action listener floating text area text area text holder typing target create instance text area tool text holder prototype prototype deactivate editor editor end edit deactivate editor press figure text holder edit otherwise text figure create mouse press mouse e text holder text holder figure press figure get find figure inside get view view point e get x e get y press figure text holder text holder text holder press figure text holder editable text holder text holder create figure begin edit text holder typing target end edit fire tool mouse press e update view so create figure draw before floating text figure overlay note f damage should standard view when overlay figure draw because j text field cannot scroll view check damage text holder text holder get create figure begin edit text holder mouse drag mouse e protect begin edit text holder text holder text area text area floating text area text area add action listener thi text holder typing target typing target end edit text area create overlay get view text holder text area set bound get field bound text holder text holder get text text area request focus typing target text holder rectangle2 d get field bound text holder figure rectangle2 d r figure get bound insets2 d inset figure get inset r rectangle2 d r x + inset left r y + inset top r width inset left inset right r height inset top inset bottom f i x m e find way determine parameter grow r grow 1 2 r width + 16 r x 1 r y 2 r width + 18 r height + 4 r mouse release mouse evt create figure text holder text holder text holder create figure rectangle2 d bound create figure get bound bound width 0 bound height 0 get remove create figure bound width 5 bound height 5 create figure change create figure basic set bound point2 d bound x bound y point2 d bound x + 100 bound y + 100 create figure change get view add selection create figure create figure composite figure composite figure create figure layout create figure get fire undoable edit happen creation edit begin edit text holder protect end edit typing target text area get text length 0 typing target set text text area get text create figure get fire undoable edit happen creation edit create figure create figure get remove figure get add figure typing target set text nothing undo set undo activity typing target text area end overlay view check damage action perform action end edit fire tool 