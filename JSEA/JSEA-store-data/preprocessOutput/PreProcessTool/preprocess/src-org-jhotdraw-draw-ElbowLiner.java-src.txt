# elbow liner 1 0 2006 03 28 1996 2006 contributor right reserve thi disclose accordance term enter draw geom geom xml dom input xml dom output xml dom storable liner constrain connection orthogonal line wern randelshof 1 0 2006 03 28 create elbow liner implement liner dom storable create instance elbow liner collection handle create handle bezi path path lineout connection figure figure bezi path path line connection figure figure get bezi path connector start figure get start connector connector end figure get end connector start || end || path point2 d sp start find start figure point2 d ep end find end figure path clear path add bezi path node sp x sp y sp x ep x || sp y ep y path add bezi path node ep x ep y rectangle2 d sb start get bound sb x + 5d sb y + 5d sb width 10d sb height 10d rectangle2 d eb end get bound eb x + 5d eb y + 5d eb width 10d eb height 10d soutcode sb outcode sp soutcode 0 soutcode geom outcode sb eb eoutcode eb outcode ep eoutcode 0 eoutcode geom outcode eb sb soutcode geom o u t t o p | geom o u t b o t t o m 0 eoutcode geom o u t t o p | geom o u t b o t t o m 0 path add bezi path node sp x sp y + ep y 2 path add bezi path node ep x sp y + ep y 2 soutcode geom o u t l e f t | geom o u t r i g h t 0 eoutcode geom o u t l e f t | geom o u t r i g h t 0 path add bezi path node sp x + ep x 2 sp y path add bezi path node sp x + ep x 2 ep y path add bezi path node ep x ep y path invalidate path read dom input write dom output out liner clone liner clone clone support ex internal internal ex get message init cause ex 