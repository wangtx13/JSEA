cluster iterator cluster clustering cluster neighbor evaluator agglomerative neighbor cluster cluster utils types instance randoms samples merges a singleton cluster another possibly non singleton cluster author aron culotta <culotta degas edu> 1 0 since 1 0 pair sample iterator neighbor iterator node cluster sample iterator cluster sample iterator clustering clustering random source randomness positive proportion proportion instances that should be positive examples number samples total number samples to generate node cluster sample iterator clustering clustering randoms random positive proportion number samples clustering random positive proportion number samples random=random positive proportion=positive proportion number samples=number samples instance next agglomerative neighbor neighbor = positive count < positive target nonsingleton clusters length>0 sample positive positive count++ label = nonsingleton clusters random next nonsingleton clusters length instances = clustering get indices label label subcluster = sample from instances random 2 cluster1 = subcluster random next subcluster length singleton cluster2 = subcluster length 1 nadded = 0 i = 0 i < subcluster length i++ subcluster i != cluster1 0 cluster2 nadded++ = subcluster i neighbor = agglomerative neighbor clustering clustering cluster1 cluster2 sample negative labeli = random next clustering get num clusters labelj = random next clustering get num clusters labeli == labelj labelj = random next clustering get num clusters ii = sample from clustering get indices label labeli random 1 ij = sample from clustering get indices label labelj random 1 neighbor = agglomerative neighbor clustering cluster utils copy and merge clusters clustering labeli labelj ii ij random next ij length total count++ instance neighbor 