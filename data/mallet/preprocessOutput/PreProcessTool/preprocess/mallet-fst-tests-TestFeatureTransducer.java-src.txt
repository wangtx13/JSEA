2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e author andrew mc callum <a href= mailto >mccallum edu< a> tests iterator junit framework test junit framework test junit framework test suite types alphabet types list sequence types multinomial feature transducer max lattice sum lattice transducer test feature transducer test test feature transducer name name feature transducer transducer list sequence seq seq weight set up out setup transducer = feature transducer feature transducer t = transducer t add state 0 0 transducer i m p o s s i b l e w e i g h t a b x y 44 66 0 1 t add state 1 transducer i m p o s s i b l e w e i g h t transducer i m p o s s i b l e w e i g h t d d x y z 44 11 66 1 1 2 t add state 2 transducer i m p o s s i b l e w e i g h t 8 e z 11 2 seq = list sequence alphabet dict = transducer get input alphabet seq add a seq add a seq add b seq add seq add d seq add e seq weight = 0 + 44 + 44 + 66 + 44 + 66 + 11 + 8 test initial state iterator iter = transducer initial state iterator count = 0 feature transducer state state iter has next count++ state = feature transducer state iter next state get name equals 0 count == 1 test forward backward sum lattice lattice = sum lattice transducer seq out weight= +lattice get total weight lattice get total weight == seq weight test viterbi weight = max lattice transducer seq best weight out weight = +weight weight == seq weight test estimate transducer set trainable sum lattice lattice = sum lattice transducer seq used to have third argument old weight = lattice get total weight transducer estimate lattice = sum lattice transducer seq used to have third argument weight = lattice get total weight out old weight= +old weight+ weight= +new weight weight < old weight test increment transducer set trainable sum lattice lattice = sum lattice transducer seq used to have third argument old weight = lattice get total weight out state 0 transition estimator multinomial estimator est = feature transducer state transducer get state 0 get transition estimator est print est get count 0 == 2 0 est get count 1 == 1 0 test suite test suite test feature transducer junit textui test runner run suite 