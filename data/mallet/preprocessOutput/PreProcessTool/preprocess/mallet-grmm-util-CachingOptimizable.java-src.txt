2003 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e optimize optimizable logger logging logger created aug 27 2004 author < a h r e f= mailto casutton edu>casutton edu< a> $ caching optimizable v 1 1 2007 10 22 21 37 49 exp $ caching optimizable base optimizable logger logger = logger get logger caching optimizable get name cached value = 123456789 cached gradient cached value stale = cached gradient stale = set internal params set params params length != get num illegal argument argument not + correct dimensions cached value stale = cached gradient stale = set internal params sets one parameter maximizable inefficiently uses both <tt>get < tt> and <tt>set < tt> subclasses may override more efficient implemetnations index value set parameter index value cached value stale = cached gradient stale = params = get num get params params index = value set internal params one parameter maximizable inefficiently calls through to <tt>get < tt> subclasses may override more efficient implemetnations index value parameter <tt>index<tt> get parameter index params = get num get params params index force stale cached value stale = cached gradient stale = gradient base optimizable gradient value compute value compute value gradient buffer get value gradient buffer buffer length != get num illegal argument argument not + correct dimensions cached value stale cached value = compute value cached value stale = cached gradient stale cached gradient == cached gradient = get num compute value gradient cached gradient cached gradient stale = arraycopy cached gradient 0 buffer 0 cached gradient length get value cached value stale start time = current time millis cached value = compute value end time = current time millis logger info optimizable compute value time ms = + end time start time logger info compute value = + cached value cached value stale = cached value sets cached gradient useful subclasses that need to compute value and gradient at same time they call in compute value then their compute value gradient will never be called gradient set cached gradient gradient cached gradient == cached gradient = get num arraycopy gradient 0 cached gradient 0 gradient length cached gradient stale = batch gradient base optimizable batch gradient last index last assns get batch value gradient buffer batch index batch assignments buffer length != get num illegal argument argument not + correct dimensions batch index != last index || batch assignments != last assns force stale last index = batch index last assns = batch assignments cached value stale cached value = compute batch value batch index batch assignments cached value stale = cached gradient stale cached gradient == cached gradient = get num compute batch gradient cached gradient batch index batch assignments cached gradient stale = arraycopy cached gradient 0 buffer 0 cached gradient length get batch value batch index batch assignments batch index != last index || batch assignments != last assns force stale last index = batch index last assns = batch assignments cached value stale cached value = compute batch value batch index batch assignments logger info compute value = + cached value cached value stale = cached value compute batch value batch index batch assignments compute batch gradient buffer batch index batch assignments 