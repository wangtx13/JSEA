2011 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e semi supervised pr sum lattice transducer transducer state transducer transition iterator types label vector types sequence lattice m step m projection in p r author kedar bellare author gregory druck sum lattice k l sum lattice ip == input position op == output position i == state index transducer t total weight lattice length xis sequence input sum lattice k l output alphabet non will create a label vector each position in output sequence indicating probability over possible outputs at that time index sum lattice k l transducer trans sequence input init probs probs xis cached dots transducer incrementor incrementor xis != need transition probabilities initialize some structures t = trans input = input lattice length = input size + 1 num states = t num states xis = xis total weight = 0 increment initial states i = 0 i < num states i++ t get state i get initial weight == transducer i m p o s s i b l e w e i g h t init probs != total weight += init probs i t get state i get initial weight incrementor != incrementor increment initial state t get state i init probs i ip = 0 ip < lattice length 1 ip++ i = 0 i < num states i++ state s = t get state i transition iterator iter = s transition iterator input ip iter has next state destination = iter next weight = iter get weight p = xis ip i destination get index total weight += p weight cached dots != cached dots ip i destination get index = weight incrementor != used to gather constraints so only probabilities q are used incrementor increment transition iter p i = 0 i < num states i++ t get state i get weight == transducer i m p o s s i b l e w e i g h t probs != total weight += probs i t get state i get weight incrementor != incrementor increment state t get state i probs i total weight > transducer i m p o s s i b l e w e i g h t total weight= + total weight get xis xis get gammas unsupported operation not handled! get total weight ! na n total weight total weight get gamma weight input position state s unsupported operation not handled! get gamma weight input position state index unsupported operation not handled! get gamma probability input position state s unsupported operation not handled! get gamma probability input position state index unsupported operation not handled! get xi probability ip state s1 state s2 unsupported operation not handled! get xi weight ip state s1 state s2 unsupported operation not handled! length lattice length get alpha ip state s unsupported operation not handled! get beta ip state s unsupported operation not handled! label vector get labeling at position output position transducer get transducer t sequence get input input 