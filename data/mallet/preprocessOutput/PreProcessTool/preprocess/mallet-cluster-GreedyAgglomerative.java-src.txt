cluster logging logger cluster neighbor evaluator agglomerative neighbor cluster neighbor evaluator neighbor cluster neighbor evaluator neighbor evaluator cluster cluster utils cluster pairwise matrix pipe pipe types instance types instance list progress message logger greedily merges instances until convergence merges are scored using link neighbor evaluator author aron culotta <culotta degas edu> 1 0 since 1 0 hill climbing clusterer greedy agglomerative hill climbing clusterer serial u = 1 l logger progress logger = progress message logger get logger greedy agglomerative get name + pl converged when merge score below value stopping threshold should stop clustering converged cache calls to link neighborhood evaluator in some experiments reduced running time nearly half pairwise matrix score cache instance pipe pipe each underying link instance evaluator to score potential merges stopping threshold clustering converges when evaluator score below value greedy agglomerative pipe instance pipe neighbor evaluator evaluator stopping threshold instance pipe evaluator stopping threshold = stopping threshold converged = instances a singleton clustering each instance in its own cluster clustering initialize clustering instance list instances reset cluster utils create singleton clustering instances converged clustering clustering converged reset convergence to so a round clustering can begin reset converged = score cache = evaluator reset each pair clusters calculate score link neighbor that would result from merging two clusters choose merge that obtains highest score no merge improves score original clustering clustering clustering improve clustering clustering clustering best score = n e g a t i v e i n f i n i t y to merge = 1 1 i = 0 i < clustering get num clusters i++ j = i + 1 j < clustering get num clusters j++ score = get score clustering i j score > best score best score = score to merge 0 = i to merge 1 = j converged = best score < stopping threshold ! converged progress logger info merging + to merge 0 + + clustering size to merge 0 + nodes and + to merge 1 + + clustering size to merge 1 + nodes + best score + num clusters= + clustering get num clusters update score matrix clustering to merge 0 to merge 1 clustering = cluster utils merge clusters clustering to merge 0 to merge 1 progress logger info converged score + best score clustering clustering i j score merging these two clusters get score clustering clustering i j score cache == score cache = pairwise matrix clustering get num instances ci = clustering get indices label i cj = clustering get indices label j score cache get ci 0 cj 0 == 0 0 val = evaluator evaluate agglomerative neighbor clustering cluster utils copy and merge clusters clustering i j ci cj ni = 0 ni < ci length ni++ nj = 0 nj < cj length nj++ score cache set ci ni cj nj val score cache get ci 0 cj 0 resets values clusters that have been merged clustering i j update score matrix clustering clustering i j size = clustering get num instances ci = clustering get indices label i ni = 0 ni < ci length ni++ nj = 0 nj < size nj++ ci ni != nj score cache set ci ni nj 0 0 cj = clustering get indices label j ni = 0 ni < cj length ni++ nj = 0 nj < size nj++ cj ni != nj score cache set cj ni nj 0 0 to class= + get get name + stopping threshold= + stopping threshold + neighborhood evaluator= + evaluator + 