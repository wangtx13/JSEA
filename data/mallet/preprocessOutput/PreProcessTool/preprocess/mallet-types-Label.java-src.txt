2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e author andrew mc callum <a href= mailto >mccallum edu< a> types list hash map io types alphabet label labeling serializable alphabet carrying entry label alphabet dictionary index label illegal state label can only be created their alphabet you should never call directly label are created on demand calling label alphabet lookup index obj label entry label alphabet dict index entry = entry dictionary = dict dict lookup index entry == index index = index label alphabet get label alphabet label alphabet dictionary get index index alphabet get alphabet dictionary alphabet get alphabets alphabet dictionary get entry entry to entry to comparable compare to o label os = label o index < os index 1 index == os index 0 1 labeling label get best label get best index index weight label = 1 0 get best value weight label value label label label dictionary equals dictionary weight label value label index label index == index ? weight label 0 get rank label label label dictionary equals dictionary label == ? 0 1 get rank label index label index == index ? 0 1 label get label at rank rank rank == 0 get value at rank rank rank == 0 weight label add to weights weights index += weight label add to weights scale weights index += weight label scale number non zero weight labels in labeling not total number in alphabet num locations 1 label label at location loc loc == 0 value at location loc loc == 0 weight label index at location loc loc == 0 index label vector to label vector label vector label alphabet dictionary index weight label equals l l label label l compare to == 0 illegal argument cannot compare a label a + l get get name + serialization serial u = 1 u r r e n t s e r i a l v e r s i o n = 0 write output stream out i o out write u r r e n t s e r i a l v e r s i o n out write dictionary out write index read input stream in i o not found = in read dictionary = label alphabet in read index = in read entry = dictionary lookup index 