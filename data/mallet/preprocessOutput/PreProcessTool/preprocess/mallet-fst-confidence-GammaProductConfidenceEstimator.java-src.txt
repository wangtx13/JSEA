2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e author aron culotta <a href= mailto culotta >culotta edu< a> confidence hash map types calculates confidence in an extracted segment taking product e p s i|o each state in segment gamma product confidence estimator transducer confidence estimator hash map string2state index gamma product confidence estimator transducer model model string2state index = hash map store state indices i=0 i < model num states i++ string2state index put model get state i get name i calculates confidence in tagging a link segment 0 1 confidence value higher = more confident estimate confidence segment segment sum lattice cached lattice sequence pred sequence = segment get predicted sequence input = segment get input sum lattice lattice = cached lattice==null ? sum lattice model input cached lattice confidence = 1 i=segment get start i <= segment get end i++ confidence = lattice get gamma probability i+1 model get state state index pred sequence get i confidence state index s index = string2state index get s index == illegal argument state label + s + not a state in transducer index value 