2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e pipe regex io types instance given a repeatedly look matches regex and replace entire match given replacement author andrew mc callum <a href= mailto >mccallum edu< a> sequence replace pipe serializable pattern s k i p s g m l = pattern compile < ^> > pattern regex replacement xxx yipes only works u n i x style newlines anyone want to generalize it to windows etc? pattern s k i p h e a d e r = pattern compile \ \ \\z pattern d o t a l l sequence replace pattern regex replacement regex = regex replacement = replacement instance pipe instance carrier = sequence carrier get data to matcher m = regex matcher carrier set data m replace all replacement carrier serialization serial u = 1 u r r e n t s e r i a l v e r s i o n = 0 write output stream out i o out write u r r e n t s e r i a l v e r s i o n out write regex out write replacement read input stream in i o not found = in read regex = pattern in read replacement = in read 