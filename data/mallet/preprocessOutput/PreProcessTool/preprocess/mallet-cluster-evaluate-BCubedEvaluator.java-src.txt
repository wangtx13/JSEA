cluster evaluate cluster clustering types instance list evaluate a clustering using b cubed evaluation metric bagga baldwin algorithms scoring coreference chains unlike other metrics evaluation awards points to correct singleton clusters author aron culotta <culotta degas edu> 1 0 since 1 0 clustering evaluator b cubed evaluator clustering evaluator macro precision macro recall macro num instances b cubed evaluator macro precision = macro recall = 0 0 macro num instances = 0 evaluate clustering truth clustering predicted vals = get evaluation scores truth predicted pr= + vals 0 + re= + vals 1 + f1= + vals 2 evaluate totals pr = macro precision macro num instances re = macro recall macro num instances f1 = 2 pr re pr + re pr= + pr + re= + re + f1= + f1 override get evaluation scores clustering truth clustering predicted precision = 0 0 recall = 0 0 instance list instances = truth get instances i = 0 i < instances size i++ label = truth get label i pred label = predicted get label i indices = truth get indices label label pred indices = predicted get indices label pred label correct = 0 j = 0 j < pred indices length j++ k = 0 k < indices length k++ indices k == pred indices j correct++ precision += correct pred indices length recall += correct indices length macro precision += precision macro recall += recall macro num instances += instances size precision = instances size recall = instances size precision recall 2 precision recall precision + recall 