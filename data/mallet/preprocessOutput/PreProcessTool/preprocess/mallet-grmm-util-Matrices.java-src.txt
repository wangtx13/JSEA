2006 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e arrays types matrix types matrix ops types matrixn types sparse matrixn matrix constructors $ matrices v 1 1 2007 10 22 21 37 58 exp $ matrices a diagonal matrix given dimensions it need not be square matrix diag sizes v max n = matrix ops max sizes vals = max n arrays fill vals v compute indices diagonals idxs = max n i = 0 i < idxs length i++ one idx = sizes length arrays fill one idx i idxs i = matrixn single index sizes one idx sparse matrixn sizes idxs vals a diagonal matrix given dimensions it need not be square matrix constant sizes v single size = 1 i = 0 i < sizes length i++ single size = sizes i vals = single size arrays fill vals v sparse matrixn sizes vals 