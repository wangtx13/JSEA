2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e author andrew mc callum <a href= mailto >mccallum edu< a> iterator hash set hash map io property list serializable property list next key property list add key value property list rest key != property key value rest property list add key value property list rest key != property key value rest property list add key value property list rest key != numeric property key value rest property list remove key property list rest key != property key rest lookup key key equals key property property value numeric property numeric property value illegal state unrecognitized property list entry next == next lookup key lookup number key key equals key numeric property numeric property value property obj = property value obj == 0 xxx remove these? use might ask numeric iterator expecting to get these and not! obj obj value obj obj value obj obj value obj obj value obj obj value xxx? illegal state property not numeric 0 illegal state unrecognitized property list entry next == 0 next lookup number key has property key key equals key property property value == next == next has property key iterator iterator iterator property list sum duplicate key values property list pl sum duplicate key values pl culotta 2 02 04 to increment counts properties values property list sum duplicate key values property list pl ignore zeros ! pl numeric property illegal argument property list must be numeric to sum values hash map key2value = hash map iterator iter = pl numeric iterator iter has next iter next property key = iter get key val = iter get numeric value stored value = key2value get key stored value == key2value put key val sum stored value current value key2value put key stored value value + val property list ret = iterator hash iter = key2value key set iterator hash iter has next create property list key = hash iter next val = key2value get key value ignore zeros val==0 0 ret = property list add key val ret ret iterator numeric iterator numeric iterator iterator iterator iterator property list illegal argument zero constructor not allowed property list key property list rest key = key next = rest print numeric property out key to + = + numeric property value property out key to + = + property value illegal argument unrecognized property list type next != next print serialization property list serial u = 1 u r r e n t s e r i a l v e r s i o n = 0 write output stream out i o out write u r r e n t s e r i a l v e r s i o n out write next out write key read input stream in i o not found = in read next = property list in read key = in read size property list pl = size = 1 pl next != pl = pl next size++ size numeric property property list serializable value numeric property key value property list rest key rest value = value serialization numeric property serial u = 1 u r r e n t s e r i a l v e r s i o n = 0 write output stream out i o out write u r r e n t s e r i a l v e r s i o n out write value read input stream in i o not found = in read value = in read property property list value property key value property list rest key rest value = value serialization property serial u = 1 u r r e n t s e r i a l v e r s i o n = 0 write output stream out i o out write u r r e n t s e r i a l v e r s i o n out write value read input stream in i o not found = in read value = in read iterator iterator serializable property list property next property hash set deleted keys = next called = numeric = = iterator property list pl property = find returnable property at or after pl property == next property = next property = find returnable property at or after property next property list find returnable property at or after property list property property != property numeric property numeric numeric property property value == 0 0 deleted keys == deleted keys = hash set deleted keys add property key property = property next property property property property value == deleted keys == deleted keys = hash set deleted keys add property key property = property next illegal state unrecognized property type +property get get name property has next next called next property != || !next called property != numeric property numeric property get numeric value numeric property property value get value property property value get key property key property list next property next called property = next property next property = find returnable property at or after property next next called = property next next property remove unsupported operation serialization iterator serial u = 1 u r r e n t s e r i a l v e r s i o n = 0 write output stream out i o out write u r r e n t s e r i a l v e r s i o n out write property out write next property out write deleted keys out write next called out write numeric out write read input stream in i o not found = in read property = property list in read next property = property list in read deleted keys = hash set in read next called = in read numeric = in read = in read numeric iterator iterator serializable numeric iterator property list pl pl = iterator iterator serializable iterator property list pl pl numeric = fast merging propert lists gmann 8 14 6 property list last next == next last property list append property list next pl unsupported operation next != unsupported operation property list cannot append to middle a list next = next pl last 