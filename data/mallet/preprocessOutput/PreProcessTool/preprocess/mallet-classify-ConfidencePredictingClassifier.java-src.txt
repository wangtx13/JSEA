2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e author andrew mc callum <a href= mailto >mccallum edu< a> classify list classify classifier pipe pipe types alphabet types feature vector types instance types label types label vector confidence predicting classifier classifier classifier underlying classifier classifier confidence predicting classifier total correct total incorrect total incorrect incorrect total incorrect correct num correct instances num incorrect instances num confidence correct num positive num negative confidence predicting classifier classifier underlying classifier classifier confidence predicting classifier underlying classifier get instance pipe underlying classifier = underlying classifier confidence predicting classifier = confidence predicting classifier testing confidence accuracy total correct = 0 0 total incorrect = 0 0 total incorrect incorrect = 0 0 total incorrect correct = 0 0 num correct instances = 0 num incorrect instances = 0 num confidence correct = 0 num positive = 0 num negative = 0 classification classify instance instance classification = underlying classifier classify instance classification cpc = confidence predicting classifier classify label vector lv = get label vector best index = lv get best index values = lv num locations put score correct into score winning xxx can t set lv it s immutable must create copy and classification lv set best index cpc get label vector value correct i = 0 i < lv num locations i++ i != best index lv set i 0 0 put score correct in winning and set rest to 0 i = 0 i < lv num locations i++ i != best index values i = 0 0 values i = cpc get label vector value correct best label correct num correct instances++ total correct+=cpc get label vector value correct total incorrect correct+=cpc get label vector value incorrect correct = correct correct equals cpc get label vector get best label to num confidence correct++ num negative++ num incorrect instances++ total incorrect+=cpc get label vector value correct total incorrect incorrect+=cpc get label vector value incorrect incorrect equals cpc get label vector get best label to num confidence correct++ num positive++ classification instance label vector lv get label alphabet values cpc print average scores out mean score correct correct instances = + mean correct out mean score correct incorrect instances = + mean incorrect out mean score incorrect correct instances = + total incorrect correct num correct instances out mean score incorrect incorrect instances = + total incorrect incorrect num incorrect instances print confidence accuracy out confidence predicting accuracy = + num confidence correct num incorrect instances + num correct instances + negatives + num negative + +num correct instances + positives + num positive + +num incorrect instances mean correct num correct instances==0 0 0 total correct num correct instances mean incorrect num incorrect instances==0 0 0 total incorrect num incorrect instances 