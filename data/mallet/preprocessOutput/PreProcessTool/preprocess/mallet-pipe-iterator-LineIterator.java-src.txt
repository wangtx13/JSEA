2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e author andrew mc callum <a href= mailto >mccallum edu< a> pipe iterator io iterator regex net u r i net u r i syntax pipe pipe types line iterator iterator< instance> line number reader reader pattern line regex uri group target group data group current line line iterator reader input pattern line regex data group target group uri group reader = line number reader input line regex = line regex target group = target group data group = data group uri group = uri group data group < 0 illegal state you must extract a data field current line = reader read line i o e illegal state line iterator reader input line regex data group target group uri group input pattern compile line regex data group target group uri group line iterator filename line regex data group target group uri group io not found reader filename pattern compile line regex data group target group uri group pipe input iterator instance next uri str = data = target = matcher matcher = line regex matcher current line matcher find uri group > 1 uri str = matcher group uri group target group > 1 target = matcher group target group data group > 1 data = matcher group data group illegal state line # +reader get line number + does not match regex uri uri str == uri = csvline +reader get line number uri = uri str data != instance carrier = instance data target uri current line = reader read line i o e illegal state carrier has next current line != remove illegal state iterator< instance> does not support remove 