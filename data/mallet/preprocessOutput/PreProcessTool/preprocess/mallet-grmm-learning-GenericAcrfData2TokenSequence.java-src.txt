2003 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e list regex io i o io output stream io input stream extract span extract tokenization labels assignment pipe pipe types generic pipe that takes a linegroup form <pre> l a b e l1 l a b e l2 l a b e lk word feature1 feature2 featuren < pre> and converts it into an input feature vector sequence and target labels sequence <p> number labels at each sequence position could vary then use format instead <pre> l a b e l1 l a b e l2 l a b e lk word feature1 feature2 featuren < pre> four dashes must be there to separate features from labels whitespace ignored difference between pipe and link iesl casutton experiments dcrf generic dcrf pipe that pipe allows a different number labels at each sequence position <p> explicitly specifying which word token allows use h t m l output from extract created aug 22 2005 author < a h r e f= mailto casutton edu>casutton edu< a> $ generic acrf data2 token sequence v 1 1 2007 10 22 21 37 43 exp $ generic acrf data2 token sequence pipe list label dicts = list num labels = 1 include token text = text feature prefix = w o r d= features include token = labels at end = generic acrf data2 token sequence alphabet label alphabet label dicts add get target alphabet generic acrf data2 token sequence num labels alphabet label alphabet num labels = num labels label dicts add get target alphabet set include token text include token text include token text = include token text then first feature in list considered to be token s text then no feature designated token text features include token set features include token features include token features include token = features include token get features include token features include token set text feature prefix text feature prefix text feature prefix = text feature prefix label alphabet get label alphabet lvl label alphabet label dicts get lvl num levels label dicts size instance pipe instance carrier input carrier get data sequence input = value carrier get data cast needed a got +carrier get data lines = input split span spans = span lines length labels lbls = labels lines length buffer buf = buffer alphabet dict = get data alphabet pattern r = pattern compile ^ = ? + ?\\d \\ ?\\d+ e e + ?\\d+ ? + ?\\d+ ? match numeric feature supports named features offset features and features in scientific notation i = 0 i < lines length i++ line = lines i toks = line split \\s+ j = 0 list labels = list !labels at end !is label separator toks j labels add label tok toks j j j++ j < toks length toks j equals j++ lbls i = labels label labels to label labels size max feature idx = labels at end ? toks length num labels toks length text = ??? features include token j < max feature idx text = toks j++ start = buf length buf append text end = buf length buf append span span = span buf start end j < max feature idx set feature s value feature not numeric set value to 1 t47962 ai development aitalk info continuous observations dcrf t47962 html matcher m = r matcher toks j m matches use find use $ in regex span set feature value toks j intern parse m group 2 span set feature value toks j intern 1 0 j++ include token text span set feature value text feature prefix+text intern 1 0 labels at end first lbl idx = j j < toks length labels add label tok toks j j first lbl idx j++ lbls i = labels label labels to label labels size spans i = span tokenization tokenization = tokenization buf tokenization add all spans carrier set data tokenization carrier set target labels assignment labels sequence lbls carrier label label tok tok lvl label dicts size <= lvl label dicts add label alphabet label alphabet dict = label alphabet label dicts get lvl dict lookup label tok label separator toks j num labels > 0 fixed num labels just whether we have enough j >= num labels otherwise use dynamic labels separator toks j equals serialization garbage 1 0 == a feature vector sequence serial u = 1 u r r e n t s e r i a l v e r s i o n = 2 write output stream out i o out write out write u r r e n t s e r i a l v e r s i o n read input stream in i o not found in read = in read <= 1 features include token = labels at end labels at end set labels at end labels at end labels at end = labels at end 