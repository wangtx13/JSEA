cluster evaluate hash set cluster clustering evaluate a clustering using m u evaluation metric marc vilain john burger john aberdeen dennis connolly and lynette hirschman 1995 a model theoretic coreference scoring scheme in proceedings fo 6th message understanding conference m u c6 45 52 morgan kaufmann note that m u more or less ignores singleton clusters author aron culotta <culotta degas edu> 1 0 since 1 0 clustering evaluator m u evaluator clustering evaluator precision numerator precision denominator recall numerator recall denominator m u evaluator precision numerator = precision denominator = recall numerator = recall denominator = 0 evaluate clustering truth clustering predicted vals = get evaluation scores truth predicted pr= + vals 0 + re= + vals 1 + f1= + vals 2 evaluate totals precision = precision numerator precision denominator recall = recall numerator recall denominator pr= + precision + re= + recall + f1= + 2 precision recall precision + recall override get evaluation scores clustering truth clustering predicted precision = \sum i |siprime| |p ofsiprime| \sum i |siprime| 1 where siprime a predicted cluster p ofsiprime set clusters that contain elements siprime numerator = 0 denominator = 0 i = 0 i < predicted get num clusters i++ siprime = predicted get indices label i hash set< integer> p ofsiprime = hash set< integer> j = 0 j < siprime length j++ p ofsiprime add truth get label siprime j numerator += siprime length p ofsiprime size denominator += siprime length 1 precision numerator += numerator precision denominator += denominator precision = numerator denominator recall = \sum i |si| |p ofsi| \sum i |si| 1 where si a cluster p ofsi set predicted clusters that contain elements si numerator = denominator = 0 i = 0 i < truth get num clusters i++ si = truth get indices label i hash set< integer> p ofsi = hash set< integer> j = 0 j < si length j++ p ofsi add predicted get label si j numerator += si length p ofsi size denominator += si length 1 recall numerator += numerator recall denominator += denominator recall = numerator denominator precision recall 2 precision recall precision + recall 