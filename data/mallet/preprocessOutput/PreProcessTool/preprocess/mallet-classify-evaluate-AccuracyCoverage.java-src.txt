2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e author aron culotta <a href= mailto culotta >culotta edu< a> classify evaluate awt awt event javax swing classify classification classify classifier classify trial classify evaluate graph item types instance types instance list types label vector logger print utilities logging text decimal format calculating and displaying accuracy v coverage data a trial accuracy coverage action listener logger logger = logger get logger accuracy coverage get name d e f a u l t n u m b u k e t s = 20 d e f a u l t m a x x = 100 list classifications accuracy values num buckets step graph2 graph j frame frame constructs sorts classifications and creates accuracy values t trial to get data from num buckets number x axis measurements to find accuracy accuracy coverage trial t num buckets title data name classifications = t num buckets = num buckets step = d e f a u l t m a x x num buckets accuracy values = num buckets frame = logger info constructing acc cov + classifications size sort classifications i=0 i<classifications size i++ classification = classification classifications get i label vector distr = get label vector out distr get best value create accuracy graph = graph2 title 0 100 coverage accuracy add data to graph accuracy values num buckets data name accuracy coverage trial t title name t d e f a u l t n u m b u k e t s title name accuracy coverage trial t title t d e f a u l t n u m b u k e t s title unnamed accuracy coverage classifier instance list ilist title trial ilist d e f a u l t n u m b u k e t s title unnamed accuracy coverage classifier instance list ilist num buckets title trial ilist num buckets title unnamed finds area acc cov curve steps one percentage point and calcs area trapezoid cumulative accuracy area = 0 0 i=1 i<100 i++ left accuracy = accuracy at coverage i 100 right accuracy = accuracy at coverage i+1 100 area += 5 left accuracy + right accuracy area creates accuracy values coverage at each step defined num buckets create accuracy out creating accuracy step= +step i=0 i<num buckets i++ accuracy values i = accuracy at coverage step i+1 100 0 accuracy at a given coverage percentage cov coverage percentage accuracy value accuracy at coverage cov cov <= 1 cov > 0 num trials = math round classifications size cov num correct = 0 out num trials= +num trials i= classifications size 1 i >= classifications size num trials i classification temp = classification classifications get i temp best label correct num correct++ out accuracy at cov +cov+ + num correct num trials num correct num trials sort classifications list winner s value sort classifications collections sort classifications classification comparator add data to graph acc values n buckets name vector values = vector n buckets i=0 i<n buckets i++ graph item temp = graph item acc values i 100 color black values add temp logger info sending +values size + elements to graph graph add item vector values name displays accuracy v coverage graph display graph vector values = vector num buckets j button print button = j button print frame = j frame graph decimal format df = decimal format print button add action listener frame add window listener window adapter window closing window event e exit 0 get content pane container pane = frame get content pane set layout manager pane set layout flow layout graph!= make sure we ve got data in graph add to pane pane add graph pane add print button frame pack center frame = get get current screen size dimension scrnsize = get screen size get frame size dimension framesize= frame get size set x y location frame set location scrnsize get width frame get width 2 scrnsize get height frame get height 2 frame set visible action performed action event event print utilities print component graph add trial trial t name add trial t d e f a u l t n u m b u k e t s name add trial trial t n buckets name accuracy coverage data = accuracy coverage t n buckets untitled name acc values = data accuracy values add data to graph acc values n buckets name accuracy values accuracy values classification comparator comparator compare a b label vector x = label vector classification a get label vector label vector y = label vector classification b get label vector difference = x get best value y get best value to = 0 difference > 0 to = 1 difference < 0 to = 1 to 