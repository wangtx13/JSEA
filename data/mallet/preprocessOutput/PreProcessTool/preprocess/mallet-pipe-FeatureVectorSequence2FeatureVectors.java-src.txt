pipe io i o io input stream io output stream iterator types feature vector sequence types instance types label sequence given instances a feature vector sequence in data field up sequence into individual feature vectors producing one feature vector per instance feature vector sequence2 feature vectors pipe feature vector iterator iterator< instance> iterator< instance> iterator instance instance iterator data subiterator target subiterator count = 0 feature vector iterator iterator< instance> input iterator instance = input iterator next data subiterator = feature vector sequence instance get data iterator target subiterator = label sequence instance get target iterator instance next !data subiterator has next iterator has next instance = iterator next data subiterator = feature vector sequence instance get data iterator target subiterator = label sequence instance get target iterator we are assuming sequences t have zero length data subiterator has next target subiterator has next instance data subiterator next target subiterator next instance get source + tokensequence +count++ has next data subiterator has next || iterator has next remove feature vector sequence2 feature vectors iterator< instance> iterator from iterator< instance> input iterator feature vector iterator input iterator serialization serial u = 1 u r r e n t s e r i a l v e r s i o n = 0 write output stream out i o out write u r r e n t s e r i a l v e r s i o n read input stream in i o not found = in read 