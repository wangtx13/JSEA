2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e add token text a feature value 1 0 author andrew mc callum <a href= mailto >mccallum edu< a> pipe tsf io regex pattern pipe types token text n grams pipe serializable start border = > end border = < prefix gram sizes distinguish borders = token text n grams prefix gram sizes distinguish borders prefix=prefix gram sizes = gram sizes distinguish borders = distinguish borders token text n grams prefix gram sizes prefix=prefix gram sizes = gram sizes token text n grams h a r b i g r a m= 2 instance pipe instance carrier token sequence ts = token sequence carrier get data i = 0 i < ts size i++ token t = ts get i s = t get text distinguish borders s = start border + s + end border slen = s length j = 0 j < gram sizes length j++ size = gram sizes j k = 0 k < slen size +1 k++ t set feature value prefix + s substring k k+size 1 0 carrier serialization 0 initial saved prefix gram sizes 1 save distinguish borders serial u = 1 u r r e n t s e r i a l v e r s i o n = 1 write output stream out i o out write u r r e n t s e r i a l v e r s i o n out write prefix out write gram sizes length i = 0 i < gram sizes length i++ out write gram sizes i out write distinguish borders read input stream in i o not found = in read prefix = in read gsl = in read gsl > 0 gram sizes = gsl i = 0 i < gsl i++ gram sizes i = in read >= 1 distinguish borders = in read 