2003 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e extract io serializable io output stream io i o io input stream types label types label alphabet types sequence created nov 12 2004 author < a h r e f= mailto casutton edu>casutton edu< a> $ b i o tokenization filter v 1 1 2007 10 22 21 37 44 exp $ b i o tokenization filter tokenization filter serializable labeled spans construct labeled spans label alphabet dict document label background tag tokenization input sequence seq labeled spans labeled = labeled spans document add spans from tags labeled input seq dict background tag labeled add spans from tags labeled spans labeled tokenization input sequence tags label alphabet dict label background tag i = 0 docidx = 0 i < tags size label tag = dict lookup label tags get i to start token idx = i ++i < tags size label next tag = dict lookup label tags get i to begin tag next tag || !tags match tag next tag end token idx = i span span = create span input start token idx end token idx add background necessary labeled span span docidx background tag docidx = span span get end idx begin tag tag || inside tag tag tag = trim tag dict tag labeled add labeled span span tag tag == background tag span create span tokenization input start token idx end token idx input subspan start token idx end token idx label trim tag label alphabet dict label tag name = tag get entry dict lookup label name substring 2 tags match label tag1 label tag2 name1 = tag1 get entry name2 = tag2 get entry begin tag tag1 || inside tag tag1 name1 = name1 substring 2 inside tag tag2 name2 = name2 substring 2 name1 equals name2 begin tag label lbl name = lbl get entry name starts b inside tag label lbl name = lbl get entry name starts i add background necessary labeled spans labeled span span docidx label background next idx = span get start idx docidx < next idx span span = span sequence span get document docidx next idx labeled add labeled span span background serialization garbage serial u = 8726127297313150023 l u r r e n t s e r i a l v e r s i o n = 1 write output stream out i o out write out write u r r e n t s e r i a l v e r s i o n read input stream in i o not found in read in read read 