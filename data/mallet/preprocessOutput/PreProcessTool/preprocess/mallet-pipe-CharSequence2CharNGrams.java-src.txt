2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e author andrew mc callum <a href= mailto >mccallum edu< a> pipe io types instance types token sequence transform a character sequence into a token sequence character n grams author andrew mc callum <a href= mailto >mccallum edu< a> sequence2 n grams pipe serializable n distinguish borders = start border = > end border = < sequence2 n grams n distinguish borders n = n distinguish borders = distinguish borders ngramify sequence s distinguish borders s = buffer append start border append s append end border to count = s length n ngrams = count i = 0 i < count i++ ngrams i = s sub sequence i i+n to ngrams instance pipe instance carrier carrier get data sequence carrier set data token sequence ngramify sequence carrier get data carrier get data token sequence token sequence ts = token sequence carrier get data token sequence ret = token sequence i = 0 i < ts size i++ ret add ngramify ts get i get text to carrier set data ret illegal argument unhandled type +carrier get data get carrier serialization serial u = 1 u r r e n t s e r i a l v e r s i o n = 0 write output stream out i o out write u r r e n t s e r i a l v e r s i o n out write n out write distinguish borders read input stream in i o not found = in read n = in read distinguish borders = in read 