2006 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e types maths randoms no uib cipr matrix multivariate gaussian factor currently almost all a stub except sample $ normal factor v 1 1 2007 10 22 21 37 44 exp $ normal factor factor vector mean matrix variance normal factor var set vars vector mean matrix variance vars !is pos def variance illegal argument matrix +variance+ not positive definite mean = mean variance = variance pos def matrix variance e v d evd = e v d factorize variance vals = evd get real eigenvalues vals vals length 1 > 0 not converged e runtime e factor extract max internal var set var set unsupported operation value assignment assn stub 1 0 lookup value internal i unsupported operation factor marginalize internal var set vars to keep unsupported operation factor normalize assignment sample randoms r generate from standard normal vals = mean size k = 0 k < vals length k++ vals k = r next gaussian and transform vector z = dense vector vals dense vector result = dense vector vals length variance mult z result result = dense vector result add mean assignment vars to variable result get data almost equals factor p epsilon equals p factor duplicate normal factor vars mean variance na n dump to to to normal factor +vars+ +mean+ +variance+ todo factor slice assignment assn assn var set contains all vars special constant factor value assn unsupported operation multiply factor f f constant factor val = f value assignment normal factor must be normalized right now maths almost equals val 1 0 ok it s an identity factor unsupported operation can t multiply normal factor +f divide factor f f constant factor val = f value assignment normal factor must be normalized right now maths almost equals val 1 0 ok it s an identity factor unsupported operation can t divide normal factor +f 