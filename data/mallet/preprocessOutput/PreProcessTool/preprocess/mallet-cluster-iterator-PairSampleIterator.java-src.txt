cluster iterator cluster clustering cluster neighbor evaluator agglomerative neighbor cluster cluster utils types instance types instance list randoms sample pairs instances author aron culotta <culotta degas edu> 1 0 since 1 0 neighbor iterator pair sample iterator neighbor iterator instance list instances randoms random positive proportion number samples positive target positive count total count nonsingleton clusters clustering clustering random source randomness positive proportion proportion instances that should be positive examples number samples total number samples to generate pair sample iterator clustering clustering randoms random positive proportion number samples clustering random = random positive proportion = positive proportion number samples = number samples positive target = number samples positive proportion total count = positive count = 0 instances = clustering get instances set non singletons set non singletons = 0 i = 0 i < clustering get num clusters i++ clustering size i > 1 c++ nonsingleton clusters = = 0 i = 0 i < clustering get num clusters i++ clustering size i > 1 nonsingleton clusters c++ = i has next total count < number samples instance next agglomerative neighbor neighbor = nonsingleton clusters length>0 positive count < positive target || clustering get num clusters == 1 mmwick modified positive count++ label = nonsingleton clusters random next nonsingleton clusters length instances = clustering get indices label label ii = instances random next instances length ij = instances random next instances length ii == ij ij = instances random next instances length neighbor = agglomerative neighbor clustering clustering ii ij ii = random next instances size ij = random next instances size clustering get label ii == clustering get label ij ij = random next instances size neighbor = agglomerative neighbor clustering cluster utils copy and merge instances clustering ii ij ii ij total count++ instance neighbor 