2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e pipe io types instance types token types token sequence sequence lexer lexer read from or buffered read in data field and produce a token sequence author andrew mc callum <a href= mailto >mccallum edu< a> source location2 token sequence pipe serializable sequence lexer lexer source location2 token sequence sequence lexer lexer lexer = lexer instance pipe instance carrier carrier get data carrier set data pipe carrier get data carrier get data buffered reader carrier set data pipe buffered reader carrier get data illegal argument doesn t handle +carrier get i o e illegal argument i o carrier token sequence pipe io not found io i o pipe buffered reader reader token sequence pipe buffered reader io i o b u f s i z e = 2048 buf = b u f s i z e count buffer sb = buffer b u f s i z e count = read buf 0 b u f s i z e sb append buf count == b u f s i z e lexer set sequence sequence sb token sequence ts = token sequence lexer has next ts add token lexer next ts serialization serial u = 1 u r r e n t s e r i a l v e r s i o n = 0 write output stream out i o out write u r r e n t s e r i a l v e r s i o n read input stream in i o not found = in read 