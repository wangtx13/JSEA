2003 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e inference gbp iterator types created jun 1 2005 author < a h r e f= mailto casutton edu>casutton edu< a> $ sparse message sender v 1 1 2007 10 22 21 37 58 exp $ sparse message sender message strategy epsilon sparse message sender epsilon epsilon = epsilon send message region edge edge factor product = msg product edge iterator it = edge factors to send iterator it has next factor ptl = factor it next product multiply ptl table factor result = table factor product marginalize edge to vars result normalize table factor pruned should prune message edge result edge to vars size > 1 pruned = factors retain mass result epsilon pruned normalize err potential pruning p r e +result+ p o s t +pruned only prune messages to leaves pruned = result err message edge +edge+ not pruned messages set message edge from edge to pruned message average messages region graph rg message a1 message a2 inertia weight message arr = message rg iterator it = rg edge iterator it has next region edge edge = region edge it next factor msg1 = a1 get message edge from edge to factor msg2 = a2 get message edge from edge to msg1 != table factor averaged = table factor factors average msg1 msg2 inertia weight table factor pruned should prune message edge averaged pruned = factors retain mass averaged epsilon pruned = averaged arr set message edge from edge to pruned compute amount sparsity locs = 0 idxs = 0 iterator it = rg edge iterator it has next region edge edge = region edge it next discrete factor msg = arr get message edge from edge to locs += msg num locations idxs += hash var set msg var set weight out sparsity quotient = +locs+ +idxs arr should prune message region edge edge factor msg edge to children empty 