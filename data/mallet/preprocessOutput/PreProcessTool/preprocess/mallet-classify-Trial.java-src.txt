2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e classify list collection list logging logger pipe pipe types alphabet types feature vector types instance types instance list types label types labeling stores results classifying a collection instances and provides many evaluating results you just need one evaluation result you may find it easier to one corresponding in classifier which simply call here instance list classifier classification author andrew mc callum <a href= mailto >mccallum edu< a> trial list< classification> logger logger = logger get logger trial get name classifier classifier trial classifier instance list ilist ilist size classifier = instance instance ilist add classify instance add classification get classifier != classifier illegal argument trying to add classification from a different classifier add add index classification get classifier != classifier illegal argument trying to add classification from a different classifier add index add all collection<? classification> collection ret = classification collection !this add ret = ret add all index collection<? classification> collection illegal state not classifier get classifier classifier fraction instances that have correct label their best predicted label get accuracy num correct = 0 i = 0 i < size i++ get i best label correct num correct++ num correct size calculate precision classifier on an instance list a particular target entry get precision label entry index label entry labeling index = labeling label entry get best index index = classifier get label alphabet lookup index label entry index == 1 illegal argument label +label entry to + not a valid label get precision index get precision labeling label get precision label get best index calculate precision a particular target index from an list classifications get precision index num correct = 0 num instances = 0 label label i = 0 i<this size i++ label = get i get instance get labeling get best index label = get i get labeling get best index label == index num instances++ label == index num correct++ gdruck when no examples are predicted to have label we define precision to be 1 num instances==0 logger warning no examples predicted label + classifier get label alphabet lookup label index + ! num correct == 0 1 num correct num instances calculate recall classifier on an instance list a particular target entry get recall label entry index label entry labeling index = labeling label entry get best index index = classifier get label alphabet lookup index label entry index == 1 illegal argument label +label entry to + not a valid label get recall index get recall labeling label get recall label get best index calculate recall a particular target index from an list classifications get recall label index num correct = 0 num instances = 0 label label i = 0 i<this size i++ label = get i get instance get labeling get best index label = get i get labeling get best index label == label index num instances++ label == label index num correct++ gdruck when no examples have label we define recall to be 1 num instances==0 logger warning no examples label + classifier get label alphabet lookup label label index + ! num correct == 0 1 num correct num instances calculate f1 measure classifier on an instance list a particular target entry get f1 label entry index label entry labeling index = labeling label entry get best index index = classifier get label alphabet lookup index label entry index == 1 illegal argument label +label entry to + not a valid label get f1 index get f1 labeling label get f1 label get best index calculate f1 measure a particular target index from an list classifications get f1 index precision = get precision index recall = get recall index gdruck when both precision and recall are 0 f1 0 precision==0 0 recall==0 0 0 2 precision recall precision+recall average rank correct label labeling get rank correct label on predicted labeling get average rank rsum = 0 labeling tmp l classification tmp instance tmp i label tmp lbl tmp lbl2 tmp i = 0 i < size i++ tmp = get i tmp i = tmp get instance tmp l = tmp get labeling tmp lbl = label tmp i get target tmp = tmp l get rank tmp lbl tmp lbl2 = tmp l get label at rank 0 rsum = rsum + tmp rsum size 