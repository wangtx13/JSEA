2010 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e semi supervised list logging logger r f transducer transducer trainer semi supervised constraints g e constraint optimize limited memory b f g s optimize optimizable optimize optimizer types instance list logger trains a r f using generalized expectation constraints that consider either a single label or a pair labels a linear chain r f generalized expectation criteria semi supervised conditional random fields gideon mann and andrew mc callum a l 2008 author gregory druck r f trainer g e transducer trainer logger logger = logger get logger r f trainer g e get name d e f a u l t n u m r e s e t s = 1 d e f a u l t g p v = 10 converged iteration num threads num resets gaussian prior variance list< g e constraint> constraints r f crf state label map state label map r f optimizable g e optimizable optimizer optimizer r f trainer g e r f crf list< g e constraint> constraints crf constraints 1 r f trainer g e r f crf list< g e constraint> constraints num threads converged = iteration = 0 constraints = constraints crf = crf num threads = num threads num resets = d e f a u l t n u m r e s e t s gaussian prior variance = d e f a u l t g p v one to one state label map other maps can be set set state label map state label map = state label map crf get output alphabet override get iteration iteration override transducer get transducer crf override finished training converged set gaussian prior variance gpv gaussian prior variance = gpv sets number resets l b f g s during optimization resetting more times can be useful since g e objective function non convex num resets number resets l b f g s set num resets num resets num resets = num resets map between states in r f f s t and labels set state label map state label map map state label map = map set optimizable optimizer optimizer optimizer = optimizer optimizable gradient value get optimizable instance list unlabeled optimizable == optimizable = r f optimizable g e crf constraints unlabeled state label map num threads optimizable set gaussian prior variance gaussian prior variance optimizable optimizer get optimizer optimizable gradient value optimizable optimizer == optimizer = limited memory b f g s optimizable optimizer override train instance list unlabeled set num iterations constraints size > 0 constraints size == 0 runtime no constraints specified! get optimizable unlabeled set get optimizer optimizable optimizer limited memory b f g s limited memory b f g s optimizer reset converged = logger info r f about to train +num iterations+ iterations sometimes resetting optimizer helps to find a better parameter setting iter = 0 reset = 0 reset < num resets + 1 reset++ iter < num iterations iter++ converged = optimizer optimize 1 iteration++ logger info r f finished one iteration maximizer i= +iter run evaluators illegal argument e e print stack trace logger info catching saying converged converged = e e print stack trace logger info catching saying converged converged = converged logger info r f training has converged i= +iter optimizer limited memory b f g s limited memory b f g s optimizer reset shutdown threads optimizable shutdown converged 