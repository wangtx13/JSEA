2002 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e pipe io types instance types token types token sequence convert token sequence in data field to a token sequence ngrams author metzler <a href= mailto metzler >metzler edu< a> token sequence n grams pipe serializable gram sizes = token sequence n grams sizes gram sizes = sizes instance pipe instance carrier term = token sequence tmp t s = token sequence token sequence ts = token sequence carrier get data i = 0 i < ts size i++ token t = ts get i j = 0 j < gram sizes length j++ len = gram sizes j len <= 0 || len > i+1 len == 1 tmp t s add t term = t get text k = 1 k < len k++ term = ts get i k get text + + term tmp t s add term carrier set data tmp t s carrier serialization serial u = 1 u r r e n t s e r i a l v e r s i o n = 0 write output stream out i o out write u r r e n t s e r i a l v e r s i o n out write gram sizes length i = 0 i < gram sizes length i++ out write gram sizes i read input stream in i o not found = in read size = in read gram sizes = size i = 0 i < size i++ gram sizes i = in read 