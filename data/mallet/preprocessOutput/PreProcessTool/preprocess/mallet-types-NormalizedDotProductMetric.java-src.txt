2003 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e a measure distance between two < o d e> sparse vector< o d e>s author aron culotta < a h r e f= mailto culotta >culotta edu< a> types hash map types sparse vector computes 1 <x y> sqrt <x x> <y y> aka 1 cosine similarity normalized dot product metric cached metric hash map hash stores self dot products used normalization normalized dot product metric hash = hash map distance sparse vector a sparse vector b ret = a dot product b math sqrt a dot product a b dot product b gmann two norm more efficient than a dot product a ret = a dot product b a two norm b two norm 1 0 ret distance sparse vector a hash a sparse vector b hash b cached a = hash get hash a cached b = hash get hash b a == || b == 1 0 cached a == cached a = a dot product a hash put hash a cached a cached b == cached b = b dot product b hash put hash b cached b ab = a dot product b cached a == || cached b == illegal state cached values ret = a dot product b math sqrt cached a value cached b value 1 0 ret 