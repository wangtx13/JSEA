2010 m a l l e t m achine languag e ~mccallum 1 0 further ` l i e n s e semi supervised constraints gnu trove t hash map semi supervised state label map types matrix ops maths a set constraints on distributions over consecutive labels conditioned an input features to be used g e and penalizes k l divergence between model and target distributions multiple constraints are grouped together here to make things more efficient author gregory druck one label k l g e constraints one label g e constraints one label k l g e constraints one label k l g e constraints t hash map< one label g e constraint> constraints state label map map constraints map g e constraint copy one label k l g e constraints constraints map override add constraint fi target weight maths almost equals matrix ops sum target 1 constraints put fi one label g e k l constraint target weight override get value value = 0 0 fi constraints keys one label g e constraint constraint = constraints get fi constraint count > 0 0 constraint value = 0 0 label index = 0 label index < map get num labels ++label index constraint target label index > 0 0 target non zero and expectation 0 infinite penalty constraint expectation label index == 0 0 n e g a t i v e i n f i n i t y p log q p log p negative k l constraint value += constraint target label index math log constraint expectation label index constraint count math log constraint target label index ! na n constraint value ! infinite constraint value value += constraint value constraint weight value one label g e k l constraint one label g e constraint one label g e k l constraint target weight target weight get value count != 0 target == 0 expectation == 0 0 weight target expectation 